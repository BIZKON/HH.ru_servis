{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/theme-toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Moon, Sun } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\n\nexport function ThemeToggle() {\n  const [isDark, setIsDark] = useState(false)\n\n  useEffect(() => {\n    const stored = localStorage.getItem(\"theme\")\n    const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n    const shouldBeDark = stored === \"dark\" || (!stored && prefersDark)\n    setIsDark(shouldBeDark)\n    document.documentElement.classList.toggle(\"dark\", shouldBeDark)\n  }, [])\n\n  const toggleTheme = () => {\n    const newIsDark = !isDark\n    setIsDark(newIsDark)\n    document.documentElement.classList.toggle(\"dark\", newIsDark)\n    localStorage.setItem(\"theme\", newIsDark ? \"dark\" : \"light\")\n  }\n\n  return (\n    <Button variant=\"outline\" size=\"icon\" onClick={toggleTheme} aria-label=\"Переключить тему\">\n      {isDark ? <Sun className=\"h-4 w-4\" /> : <Moon className=\"h-4 w-4\" />}\n    </Button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IAErC,IAAA,0KAAS;iCAAC;YACR,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;YAC7E,MAAM,eAAe,WAAW,UAAW,CAAC,UAAU;YACtD,UAAU;YACV,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ;QACpD;gCAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,YAAY,CAAC;QACnB,UAAU;QACV,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ;QAClD,aAAa,OAAO,CAAC,SAAS,YAAY,SAAS;IACrD;IAEA,qBACE,6LAAC,wIAAM;QAAC,SAAQ;QAAU,MAAK;QAAO,SAAS;QAAa,cAAW;kBACpE,uBAAS,6LAAC,0MAAG;YAAC,WAAU;;;;;iCAAe,6LAAC,6MAAI;YAAC,WAAU;;;;;;;;;;;AAG9D;GAvBgB;KAAA"}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/token-input.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Eye, EyeOff, Key, ExternalLink } from \"lucide-react\"\nimport { Input } from \"@/components/ui/input\"\nimport { Button } from \"@/components/ui/button\"\nimport { Label } from \"@/components/ui/label\"\n\ninterface TokenInputProps {\n  value: string\n  onChange: (value: string) => void\n}\n\nexport function TokenInput({ value, onChange }: TokenInputProps) {\n  const [showToken, setShowToken] = useState(false)\n  const [isSaving, setIsSaving] = useState(false)\n\n  // Проверяем наличие токена при загрузке\n  useEffect(() => {\n    const checkToken = async () => {\n      try {\n        const response = await fetch(\"/api/token\")\n        if (response.ok) {\n          const data = await response.json()\n          if (data.hasToken) {\n            // Токен есть, но мы не можем его получить (безопасность)\n            // Пользователь должен ввести его заново или он уже используется на сервере\n          }\n        }\n      } catch (error) {\n        console.error(\"Error checking token:\", error)\n      }\n    }\n    checkToken()\n  }, [])\n\n  const handleChange = async (newValue: string) => {\n    onChange(newValue)\n\n    // Сохраняем токен на сервер при изменении\n    if (newValue && newValue.length > 10) {\n      setIsSaving(true)\n      try {\n        const response = await fetch(\"/api/token\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ token: newValue }),\n        })\n\n        if (!response.ok) {\n          const error = await response.json()\n          console.error(\"Ошибка сохранения токена:\", error.error)\n        }\n      } catch (error) {\n        console.error(\"Ошибка сохранения токена:\", error)\n      } finally {\n        setIsSaving(false)\n      }\n    } else if (!newValue) {\n      // Удаляем токен если поле очищено\n      try {\n        await fetch(\"/api/token\", {\n          method: \"DELETE\",\n        })\n      } catch (error) {\n        console.error(\"Ошибка удаления токена:\", error)\n      }\n    }\n  }\n\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"flex items-center justify-between\">\n        <Label htmlFor=\"token\" className=\"flex items-center gap-2 text-sm font-medium\">\n          <Key className=\"h-4 w-4\" />\n          API Токен HH.ru\n        </Label>\n        <a\n          href=\"https://dev.hh.ru/admin\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors\"\n        >\n          Получить токен\n          <ExternalLink className=\"h-3 w-3\" />\n        </a>\n      </div>\n      <div className=\"relative\">\n        <Input\n          id=\"token\"\n          type={showToken ? \"text\" : \"password\"}\n          value={value}\n          onChange={(e) => handleChange(e.target.value)}\n          placeholder=\"Введите ваш API токен\"\n          className=\"pr-10 font-mono text-sm\"\n          disabled={isSaving}\n        />\n        <Button\n          type=\"button\"\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"absolute right-0 top-0 h-full px-3 hover:bg-transparent\"\n          onClick={() => setShowToken(!showToken)}\n          aria-label={showToken ? \"Скрыть токен\" : \"Показать токен\"}\n        >\n          {showToken ? (\n            <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\n          ) : (\n            <Eye className=\"h-4 w-4 text-muted-foreground\" />\n          )}\n        </Button>\n      </div>\n      <p className=\"text-xs text-muted-foreground\">\n        {isSaving ? \"Сохранение...\" : \"Токен шифруется и хранится безопасно на сервере\"}\n      </p>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AANA;;;;;;AAaO,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAmB;;IAC7D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,wCAAwC;IACxC,IAAA,0KAAS;gCAAC;YACR,MAAM;mDAAa;oBACjB,IAAI;wBACF,MAAM,WAAW,MAAM,MAAM;wBAC7B,IAAI,SAAS,EAAE,EAAE;4BACf,MAAM,OAAO,MAAM,SAAS,IAAI;4BAChC,IAAI,KAAK,QAAQ,EAAE;4BACjB,yDAAyD;4BACzD,2EAA2E;4BAC7E;wBACF;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,yBAAyB;oBACzC;gBACF;;YACA;QACF;+BAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,SAAS;QAET,0CAA0C;QAC1C,IAAI,YAAY,SAAS,MAAM,GAAG,IAAI;YACpC,YAAY;YACZ,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,cAAc;oBACzC,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBAAE,OAAO;oBAAS;gBACzC;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;oBACjC,QAAQ,KAAK,CAAC,6BAA6B,MAAM,KAAK;gBACxD;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,6BAA6B;YAC7C,SAAU;gBACR,YAAY;YACd;QACF,OAAO,IAAI,CAAC,UAAU;YACpB,kCAAkC;YAClC,IAAI;gBACF,MAAM,MAAM,cAAc;oBACxB,QAAQ;gBACV;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,sIAAK;wBAAC,SAAQ;wBAAQ,WAAU;;0CAC/B,6LAAC,0MAAG;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAG7B,6LAAC;wBACC,MAAK;wBACL,QAAO;wBACP,KAAI;wBACJ,WAAU;;4BACX;0CAEC,6LAAC,yOAAY;gCAAC,WAAU;;;;;;;;;;;;;;;;;;0BAG5B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,sIAAK;wBACJ,IAAG;wBACH,MAAM,YAAY,SAAS;wBAC3B,OAAO;wBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wBAC5C,aAAY;wBACZ,WAAU;wBACV,UAAU;;;;;;kCAEZ,6LAAC,wIAAM;wBACL,MAAK;wBACL,SAAQ;wBACR,MAAK;wBACL,WAAU;wBACV,SAAS,IAAM,aAAa,CAAC;wBAC7B,cAAY,YAAY,iBAAiB;kCAExC,0BACC,6LAAC,uNAAM;4BAAC,WAAU;;;;;iDAElB,6LAAC,0MAAG;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAIrB,6LAAC;gBAAE,WAAU;0BACV,WAAW,kBAAkB;;;;;;;;;;;;AAItC;GAxGgB;KAAA"}},
    {"offset": {"line": 544, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,qHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,aAAU;YACV,WAAW,IAAA,qHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,wNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6LAAC,uLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,yLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 801, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/collapsible.tsx"],"sourcesContent":["'use client'\n\nimport * as CollapsiblePrimitive from '@radix-ui/react-collapsible'\n\nfunction Collapsible({\n  ...props\n}: React.ComponentProps<typeof CollapsiblePrimitive.Root>) {\n  return <CollapsiblePrimitive.Root data-slot=\"collapsible\" {...props} />\n}\n\nfunction CollapsibleTrigger({\n  ...props\n}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleTrigger>) {\n  return (\n    <CollapsiblePrimitive.CollapsibleTrigger\n      data-slot=\"collapsible-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction CollapsibleContent({\n  ...props\n}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleContent>) {\n  return (\n    <CollapsiblePrimitive.CollapsibleContent\n      data-slot=\"collapsible-content\"\n      {...props}\n    />\n  )\n}\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n"],"names":[],"mappings":";;;;;;;;;AAEA;AAFA;;;AAIA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,6LAAC,kLAAyB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AACrE;KAJS;AAMT,SAAS,mBAAmB,EAC1B,GAAG,OACkE;IACrE,qBACE,6LAAC,gMAAuC;QACtC,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;MATS;AAWT,SAAS,mBAAmB,EAC1B,GAAG,OACkE;IACrE,qBACE,6LAAC,gMAAuC;QACtC,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;MATS"}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/lib/types.ts"],"sourcesContent":["// HH.ru API Types\n\nexport interface HHSearchParams {\n  text: string\n  area?: string\n  experience?: string\n  employment?: string\n  schedule?: string\n  salary_from?: number\n  salary_to?: number\n  currency?: string\n  order_by?: string\n  search_field?: string\n  per_page?: number\n  page?: number\n}\n\nexport interface HHArea {\n  id: string\n  name: string\n  url: string\n}\n\nexport interface HHSalary {\n  amount: number | null\n  currency: string | null\n  from?: number | null\n  to?: number | null\n}\n\nexport interface HHExperience {\n  id: string\n  name: string\n}\n\nexport interface HHEducation {\n  level: {\n    id: string\n    name: string\n  }\n  primary: Array<{\n    name: string\n    organization: string\n    result: string\n    year: number\n  }>\n}\n\nexport interface HHContact {\n  type: {\n    id: string\n    name: string\n  }\n  value: string | { country: string; city: string; number: string }\n  preferred: boolean\n}\n\nexport interface HHResume {\n  id: string\n  title: string\n  url: string\n  alternate_url: string\n  created_at: string\n  updated_at: string\n  first_name: string\n  last_name: string\n  middle_name: string | null\n  age: number | null\n  gender: {\n    id: string\n    name: string\n  } | null\n  area: HHArea | null\n  salary: HHSalary | null\n  photo: {\n    small: string\n    medium: string\n    id: string\n  } | null\n  total_experience: {\n    months: number\n  } | null\n  experience: Array<{\n    start: string\n    end: string | null\n    company: string\n    position: string\n    description: string | null\n  }>\n  skill_set: string[]\n  education: HHEducation | null\n  contact: HHContact[]\n  certificate: Array<{\n    title: string\n    achieved_at: string\n    type: string\n    owner: string | null\n    url: string | null\n  }>\n  language: Array<{\n    id: string\n    name: string\n    level: {\n      id: string\n      name: string\n    }\n  }>\n}\n\nexport interface HHSearchResponse {\n  found: number\n  pages: number\n  per_page: number\n  page: number\n  items: HHResume[]\n}\n\nexport interface Candidate {\n  id: string\n  fullName: string\n  title: string\n  age: number | null\n  city: string\n  salary: string\n  experience: string\n  skills: string[]\n  lastUpdate: string\n  photoUrl: string | null\n  resumeUrl: string\n  contacts: {\n    email?: string\n    phone?: string\n  }\n}\n\nexport interface SearchFilters {\n  text: string\n  area: string\n  experience: string\n  employment: string\n  schedule: string\n  salaryFrom: string\n  salaryTo: string\n  orderBy: string\n  resumeSearchPeriod: string\n}\n\nexport interface SearchHistory {\n  id: string\n  query: string\n  filters: SearchFilters\n  timestamp: number\n  resultsCount: number\n}\n\n// Experience options from HH.ru\nexport const EXPERIENCE_OPTIONS = [\n  { value: \"\", label: \"Любой опыт\" },\n  { value: \"noExperience\", label: \"Нет опыта\" },\n  { value: \"between1And3\", label: \"От 1 года до 3 лет\" },\n  { value: \"between3And6\", label: \"От 3 до 6 лет\" },\n  { value: \"moreThan6\", label: \"Более 6 лет\" },\n]\n\nexport const EMPLOYMENT_OPTIONS = [\n  { value: \"\", label: \"Любая занятость\" },\n  { value: \"full\", label: \"Полная занятость\" },\n  { value: \"part\", label: \"Частичная занятость\" },\n  { value: \"project\", label: \"Проектная работа\" },\n  { value: \"volunteer\", label: \"Волонтёрство\" },\n  { value: \"probation\", label: \"Стажировка\" },\n]\n\nexport const SCHEDULE_OPTIONS = [\n  { value: \"\", label: \"Любой график\" },\n  { value: \"fullDay\", label: \"Полный день\" },\n  { value: \"shift\", label: \"Сменный график\" },\n  { value: \"flexible\", label: \"Гибкий график\" },\n  { value: \"remote\", label: \"Удалённая работа\" },\n  { value: \"flyInFlyOut\", label: \"Вахтовый метод\" },\n]\n\nexport const ORDER_BY_OPTIONS = [\n  { value: \"relevance\", label: \"По релевантности\" },\n  { value: \"publication_time\", label: \"По дате обновления\" },\n  { value: \"salary_desc\", label: \"По убыванию зарплаты\" },\n  { value: \"salary_asc\", label: \"По возрастанию зарплаты\" },\n]\n\n// Major Russian cities\nexport const AREA_OPTIONS = [\n  { value: \"\", label: \"Вся Россия\" },\n  { value: \"1\", label: \"Москва\" },\n  { value: \"2\", label: \"Санкт-Петербург\" },\n  { value: \"3\", label: \"Екатеринбург\" },\n  { value: \"4\", label: \"Новосибирск\" },\n  { value: \"88\", label: \"Казань\" },\n  { value: \"66\", label: \"Нижний Новгород\" },\n  { value: \"76\", label: \"Ростов-на-Дону\" },\n  { value: \"104\", label: \"Челябинск\" },\n  { value: \"72\", label: \"Пермь\" },\n  { value: \"78\", label: \"Самара\" },\n  { value: \"99\", label: \"Уфа\" },\n  { value: \"54\", label: \"Красноярск\" },\n  { value: \"26\", label: \"Воронеж\" },\n  { value: \"68\", label: \"Омск\" },\n]\n\nexport interface HHVacancy {\n  id: string\n  name: string\n  area: HHArea | null\n  salary: HHSalary | null\n  published_at: string\n  response_letter_required: boolean\n  status: string\n}\n\nexport interface HHVacanciesResponse {\n  found: number\n  pages: number\n  per_page: number\n  page: number\n  items: HHVacancy[]\n}\n\nexport interface Vacancy {\n  id: string\n  name: string\n  city: string\n  salary: string | null\n  inviteMessage?: string\n}\n\nexport interface VacancyConfig {\n  id: string\n  name: string\n  city: string\n  salary: string | null\n  inviteMessage: string\n  // Scoring configuration\n  requiredExperience: string\n  requiredSkills: string[]\n  bonusSkills: string[]\n  salaryMin: number\n  salaryMax: number\n}\n\nexport interface ScoredCandidate {\n  id: string\n  fullName: string\n  title: string\n  age: number | null\n  city: string\n  salary: string\n  experience: string\n  skills: string[]\n  lastUpdate: string\n  photoUrl: string | null\n  resumeUrl: string\n  contacts: {\n    email?: string\n    phone?: string\n  }\n  // Scoring fields\n  score: number\n  breakdown: {\n    experience: number\n    skills: number\n    salary: number\n    education: number\n    jobSearchStatus: number\n    bonus: number\n  }\n  rating: string\n  stars: number\n}\n\nexport interface SearchSession {\n  id?: string\n  vacancy_id?: string\n  search_text: string\n  search_area?: string\n  search_experience?: string\n  search_employment?: string\n  search_schedule?: string\n  search_salary_from?: number\n  search_order_by?: string\n  search_params: Record<string, any>\n  total_found: number\n  total_scored: number\n  avg_score?: number\n  min_score?: number\n  max_score?: number\n  created_at?: string\n}\n\nexport interface Invitation {\n  id?: string\n  application_id: string\n  candidate_id: string\n  vacancy_id: string\n  message: string\n  hh_invitation_id?: string\n  status: \"sent\" | \"delivered\" | \"viewed\" | \"responded\" | \"rejected\" | \"error\"\n  sent_at?: string\n  responded_at?: string\n  response_text?: string\n}\n\nexport interface Export {\n  id?: string\n  search_session_id?: string\n  vacancy_id?: string\n  candidates_count: number\n  format: \"csv\" | \"xlsx\" | \"json\"\n  file_name: string\n  applied_filters?: Record<string, any>\n  score_range_min?: number\n  score_range_max?: number\n  created_at?: string\n}\n\nexport interface AuditLog {\n  id?: string\n  table_name: string\n  record_id: string\n  action: \"INSERT\" | \"UPDATE\" | \"DELETE\"\n  old_value?: Record<string, any>\n  new_value?: Record<string, any>\n  changed_fields?: string[]\n  changed_at?: string\n}\n\nexport interface SearchResults {\n  searchSessionId: string\n  vacancyId?: string\n  candidates: ScoredCandidate[]\n  stats: {\n    total: number\n    scored: number\n    avgScore: number\n    minScore: number\n    maxScore: number\n  }\n}\n\nexport const RESUME_SEARCH_PERIOD_OPTIONS = [\n  { value: \"\", label: \"За все время\" },\n  { value: \"1\", label: \"За последний день\" },\n  { value: \"3\", label: \"За последние 3 дня\" },\n  { value: \"7\", label: \"За последнюю неделю\" },\n  { value: \"14\", label: \"За последние 2 недели\" },\n  { value: \"30\", label: \"За последний месяц\" },\n]\n\n// CRM-related types for negotiations, messages, and activities\n\n// CRM: Negotiations (отклики и приглашения)\nexport interface Negotiation {\n  id: string\n  candidate_id: string\n  vacancy_id: string\n  application_id?: string\n  hh_negotiation_id?: string\n  external_resume_id?: string\n  external_vacancy_id?: string\n  state: \"new\" | \"invitation\" | \"response\" | \"discard\" | \"hired\" | \"archived\"\n  source: \"employer\" | \"applicant\"\n  initial_message?: string\n  has_updates: boolean\n  messages_count: number\n  created_at: string\n  updated_at: string\n  viewed_at?: string\n  responded_at?: string\n  topics?: any[]\n  actions?: Record<string, any>\n  // Relations\n  candidate?: Candidate\n  vacancy?: Vacancy\n}\n\n// CRM: Messages (сообщения в переписке)\nexport interface Message {\n  id: string\n  negotiation_id: string\n  hh_message_id?: string\n  author: \"employer\" | \"applicant\"\n  text: string\n  read_by_applicant: boolean\n  read_by_employer: boolean\n  created_at: string\n  sent_at?: string\n  read_at?: string\n  attachments?: any[]\n}\n\n// CRM: Activity log (действия в CRM)\nexport interface Activity {\n  id: string\n  candidate_id?: string\n  vacancy_id?: string\n  negotiation_id?: string\n  action_type: string\n  title: string\n  description?: string\n  metadata?: Record<string, any>\n  created_at: string\n}\n\n// Extended Candidate for CRM\nexport interface CRMCandidate extends Candidate {\n  first_name?: string\n  last_name?: string\n  middle_name?: string\n  phone?: string\n  email?: string\n  status?: \"new\" | \"contacted\" | \"interview\" | \"offer\" | \"hired\" | \"rejected\"\n  paid_access?: boolean\n  access_paid_at?: string\n  notes?: string\n  tags?: string[]\n  rating?: number\n  negotiations?: Negotiation[]\n  activities?: Activity[]\n}\n\n// Vacancy stats for CRM\nexport interface VacancyStats {\n  id: string\n  responses_count: number\n  invitations_count: number\n  views_count: number\n  conversion_rate: number\n  avg_response_time: number\n}\n\n// CRM Dashboard stats\nexport interface CRMStats {\n  total_candidates: number\n  total_negotiations: number\n  active_negotiations: number\n  hired_count: number\n  conversion_funnel: {\n    new: number\n    contacted: number\n    interview: number\n    offer: number\n    hired: number\n    rejected: number\n  }\n  recent_activities: Activity[]\n}\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;;;;;;;;;;AA4JX,MAAM,qBAAqB;IAChC;QAAE,OAAO;QAAI,OAAO;IAAa;IACjC;QAAE,OAAO;QAAgB,OAAO;IAAY;IAC5C;QAAE,OAAO;QAAgB,OAAO;IAAqB;IACrD;QAAE,OAAO;QAAgB,OAAO;IAAgB;IAChD;QAAE,OAAO;QAAa,OAAO;IAAc;CAC5C;AAEM,MAAM,qBAAqB;IAChC;QAAE,OAAO;QAAI,OAAO;IAAkB;IACtC;QAAE,OAAO;QAAQ,OAAO;IAAmB;IAC3C;QAAE,OAAO;QAAQ,OAAO;IAAsB;IAC9C;QAAE,OAAO;QAAW,OAAO;IAAmB;IAC9C;QAAE,OAAO;QAAa,OAAO;IAAe;IAC5C;QAAE,OAAO;QAAa,OAAO;IAAa;CAC3C;AAEM,MAAM,mBAAmB;IAC9B;QAAE,OAAO;QAAI,OAAO;IAAe;IACnC;QAAE,OAAO;QAAW,OAAO;IAAc;IACzC;QAAE,OAAO;QAAS,OAAO;IAAiB;IAC1C;QAAE,OAAO;QAAY,OAAO;IAAgB;IAC5C;QAAE,OAAO;QAAU,OAAO;IAAmB;IAC7C;QAAE,OAAO;QAAe,OAAO;IAAiB;CACjD;AAEM,MAAM,mBAAmB;IAC9B;QAAE,OAAO;QAAa,OAAO;IAAmB;IAChD;QAAE,OAAO;QAAoB,OAAO;IAAqB;IACzD;QAAE,OAAO;QAAe,OAAO;IAAuB;IACtD;QAAE,OAAO;QAAc,OAAO;IAA0B;CACzD;AAGM,MAAM,eAAe;IAC1B;QAAE,OAAO;QAAI,OAAO;IAAa;IACjC;QAAE,OAAO;QAAK,OAAO;IAAS;IAC9B;QAAE,OAAO;QAAK,OAAO;IAAkB;IACvC;QAAE,OAAO;QAAK,OAAO;IAAe;IACpC;QAAE,OAAO;QAAK,OAAO;IAAc;IACnC;QAAE,OAAO;QAAM,OAAO;IAAS;IAC/B;QAAE,OAAO;QAAM,OAAO;IAAkB;IACxC;QAAE,OAAO;QAAM,OAAO;IAAiB;IACvC;QAAE,OAAO;QAAO,OAAO;IAAY;IACnC;QAAE,OAAO;QAAM,OAAO;IAAQ;IAC9B;QAAE,OAAO;QAAM,OAAO;IAAS;IAC/B;QAAE,OAAO;QAAM,OAAO;IAAM;IAC5B;QAAE,OAAO;QAAM,OAAO;IAAa;IACnC;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAO;CAC9B;AA6IM,MAAM,+BAA+B;IAC1C;QAAE,OAAO;QAAI,OAAO;IAAe;IACnC;QAAE,OAAO;QAAK,OAAO;IAAoB;IACzC;QAAE,OAAO;QAAK,OAAO;IAAqB;IAC1C;QAAE,OAAO;QAAK,OAAO;IAAsB;IAC3C;QAAE,OAAO;QAAM,OAAO;IAAwB;IAC9C;QAAE,OAAO;QAAM,OAAO;IAAqB;CAC5C"}},
    {"offset": {"line": 1061, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/search-form.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { Search, Filter, ChevronDown, ChevronUp, Loader2 } from \"lucide-react\"\nimport { Input } from \"@/components/ui/input\"\nimport { Button } from \"@/components/ui/button\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\"\nimport { useState } from \"react\"\nimport type { SearchFilters } from \"@/lib/types\"\nimport {\n  EXPERIENCE_OPTIONS,\n  EMPLOYMENT_OPTIONS,\n  SCHEDULE_OPTIONS,\n  ORDER_BY_OPTIONS,\n  AREA_OPTIONS,\n  RESUME_SEARCH_PERIOD_OPTIONS,\n} from \"@/lib/types\"\n\ninterface SearchFormProps {\n  filters: SearchFilters\n  onFiltersChange: (filters: SearchFilters) => void\n  onSearch: () => void\n  isLoading: boolean\n  hasToken: boolean\n}\n\nexport function SearchForm({ filters, onFiltersChange, onSearch, isLoading, hasToken }: SearchFormProps) {\n  const [showFilters, setShowFilters] = useState(false)\n\n  const updateFilter = (key: keyof SearchFilters, value: string) => {\n    onFiltersChange({ ...filters, [key]: value })\n  }\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    onSearch()\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div className=\"flex gap-2\">\n        <div className=\"relative flex-1\">\n          <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            value={filters.text}\n            onChange={(e) => updateFilter(\"text\", e.target.value)}\n            placeholder=\"Должность, навыки или ключевые слова...\"\n            className=\"pl-10\"\n          />\n        </div>\n        <Button type=\"submit\" disabled={isLoading || !hasToken || !filters.text.trim()}>\n          {isLoading ? (\n            <>\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n              Поиск...\n            </>\n          ) : (\n            \"Найти\"\n          )}\n        </Button>\n      </div>\n\n      <Collapsible open={showFilters} onOpenChange={setShowFilters}>\n        <CollapsibleTrigger asChild>\n          <Button type=\"button\" variant=\"ghost\" size=\"sm\" className=\"gap-2 text-muted-foreground\">\n            <Filter className=\"h-4 w-4\" />\n            Расширенные фильтры\n            {showFilters ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\n          </Button>\n        </CollapsibleTrigger>\n        <CollapsibleContent className=\"pt-4\">\n          <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm\">Регион</Label>\n              <Select value={filters.area} onValueChange={(v) => updateFilter(\"area\", v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Выберите регион\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {AREA_OPTIONS.map((opt) => (\n                    <SelectItem key={opt.value || \"all\"} value={opt.value || \"all\"}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm\">Опыт работы</Label>\n              <Select value={filters.experience} onValueChange={(v) => updateFilter(\"experience\", v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Любой опыт\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {EXPERIENCE_OPTIONS.map((opt) => (\n                    <SelectItem key={opt.value || \"any\"} value={opt.value || \"any\"}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm\">Дата обновления резюме</Label>\n              <Select value={filters.resumeSearchPeriod} onValueChange={(v) => updateFilter(\"resumeSearchPeriod\", v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"За все время\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {RESUME_SEARCH_PERIOD_OPTIONS.map((opt) => (\n                    <SelectItem key={opt.value || \"all\"} value={opt.value || \"all\"}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm\">Тип занятости</Label>\n              <Select value={filters.employment} onValueChange={(v) => updateFilter(\"employment\", v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Любая занятость\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {EMPLOYMENT_OPTIONS.map((opt) => (\n                    <SelectItem key={opt.value || \"any\"} value={opt.value || \"any\"}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm\">График работы</Label>\n              <Select value={filters.schedule} onValueChange={(v) => updateFilter(\"schedule\", v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Любой график\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {SCHEDULE_OPTIONS.map((opt) => (\n                    <SelectItem key={opt.value || \"any\"} value={opt.value || \"any\"}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm\">Зарплата от</Label>\n              <Input\n                type=\"number\"\n                value={filters.salaryFrom}\n                onChange={(e) => updateFilter(\"salaryFrom\", e.target.value)}\n                placeholder=\"0\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm\">Зарплата до</Label>\n              <Input\n                type=\"number\"\n                value={filters.salaryTo}\n                onChange={(e) => updateFilter(\"salaryTo\", e.target.value)}\n                placeholder=\"999999\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm\">Сортировка</Label>\n              <Select value={filters.orderBy} onValueChange={(v) => updateFilter(\"orderBy\", v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"По релевантности\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {ORDER_BY_OPTIONS.map((opt) => (\n                    <SelectItem key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n        </CollapsibleContent>\n      </Collapsible>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1623, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 1675, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn('aspect-square size-full', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        'bg-muted flex size-full items-center justify-center rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,iLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 1738, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/progress.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as ProgressPrimitive from '@radix-ui/react-progress'\n\nimport { cn } from '@/lib/utils'\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        'bg-primary/20 relative h-2 w-full overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,6LAAC,+KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE;KArBS"}},
    {"offset": {"line": 1782, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/tooltip.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\n\nimport { cn } from '@/lib/utils'\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  )\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBACE,6LAAC;kBACC,cAAA,6LAAC,8KAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;MARS;AAUT,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,6LAAC,iLAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6LAAC,gLAAuB;kBACtB,cAAA,6LAAC,iLAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,qHAAE,EACX,qaACA;YAED,GAAG,KAAK;;gBAER;8BACD,6LAAC,+KAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C;MAtBS"}},
    {"offset": {"line": 1881, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/candidate-card.tsx"],"sourcesContent":["\"use client\"\n\nimport { ExternalLink, MapPin, Briefcase, Calendar, Mail, Phone, User, UserPlus, Star, Copy, Check } from \"lucide-react\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\"\nimport { useState } from \"react\"\nimport type { ScoredCandidate, VacancyConfig } from \"@/lib/types\"\n\ninterface CandidateCardProps {\n  candidate: ScoredCandidate\n  vacancyConfig: VacancyConfig | null\n  onInvite: (candidate: ScoredCandidate) => void\n}\n\nexport function CandidateCard({ candidate, vacancyConfig, onInvite }: CandidateCardProps) {\n  const [copiedPhone, setCopiedPhone] = useState(false)\n  const [copiedEmail, setCopiedEmail] = useState(false)\n\n  const initials = candidate.fullName\n    .split(\" \")\n    .map((n) => n[0])\n    .join(\"\")\n    .slice(0, 2)\n    .toUpperCase()\n\n  const scoreColor =\n    candidate.score >= 85\n      ? \"text-green-600 dark:text-green-400\"\n      : candidate.score >= 75\n        ? \"text-emerald-600 dark:text-emerald-400\"\n        : candidate.score >= 65\n          ? \"text-yellow-600 dark:text-yellow-400\"\n          : candidate.score >= 50\n            ? \"text-orange-600 dark:text-orange-400\"\n            : \"text-red-600 dark:text-red-400\"\n\n  const copyPhone = async () => {\n    if (candidate.contacts.phone) {\n      await navigator.clipboard.writeText(candidate.contacts.phone)\n      setCopiedPhone(true)\n      setTimeout(() => setCopiedPhone(false), 2000)\n    }\n  }\n\n  const copyEmail = async () => {\n    if (candidate.contacts.email) {\n      await navigator.clipboard.writeText(candidate.contacts.email)\n      setCopiedEmail(true)\n      setTimeout(() => setCopiedEmail(false), 2000)\n    }\n  }\n\n  return (\n    <Card className=\"group transition-all hover:shadow-md\">\n      <CardContent className=\"p-4\">\n        <div className=\"flex gap-4\">\n          <div className=\"flex flex-col items-center gap-2\">\n            <Avatar className=\"h-14 w-14 shrink-0\">\n              <AvatarImage src={candidate.photoUrl || undefined} alt={candidate.fullName} />\n              <AvatarFallback className=\"bg-muted text-muted-foreground\">\n                {initials || <User className=\"h-6 w-6\" />}\n              </AvatarFallback>\n            </Avatar>\n            {/* Score badge */}\n            <TooltipProvider>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <div className=\"text-center\">\n                    <div className={`text-lg font-bold ${scoreColor}`}>{candidate.score}</div>\n                    <div className=\"flex gap-0.5\">\n                      {[...Array(5)].map((_, i) => (\n                        <Star\n                          key={i}\n                          className={`h-3 w-3 ${\n                            i < candidate.stars ? \"fill-yellow-400 text-yellow-400\" : \"text-muted-foreground/30\"\n                          }`}\n                        />\n                      ))}\n                    </div>\n                  </div>\n                </TooltipTrigger>\n                <TooltipContent side=\"right\" className=\"w-56\">\n                  <div className=\"space-y-2\">\n                    <p className=\"font-medium\">{candidate.rating}</p>\n                    <div className=\"space-y-1 text-xs\">\n                      <div className=\"flex justify-between\">\n                        <span>Опыт:</span>\n                        <span>{candidate.breakdown.experience}/30</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span>Навыки:</span>\n                        <span>{candidate.breakdown.skills}/25</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span>Зарплата:</span>\n                        <span>{candidate.breakdown.salary}/15</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span>Образование:</span>\n                        <span>{candidate.breakdown.education}/10</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span>Статус:</span>\n                        <span>{candidate.breakdown.jobSearchStatus}/10</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span>Бонусы:</span>\n                        <span>{candidate.breakdown.bonus}/10</span>\n                      </div>\n                    </div>\n                  </div>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n          </div>\n\n          <div className=\"min-w-0 flex-1 space-y-2\">\n            <div className=\"flex items-start justify-between gap-2\">\n              <div className=\"min-w-0\">\n                <h3 className=\"truncate text-base font-semibold leading-tight text-foreground\">{candidate.fullName}</h3>\n                <p className=\"truncate text-sm text-muted-foreground\">{candidate.title}</p>\n              </div>\n              <Button variant=\"ghost\" size=\"icon\" className=\"shrink-0\" asChild>\n                <a href={candidate.resumeUrl} target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Открыть резюме\">\n                  <ExternalLink className=\"h-4 w-4\" />\n                </a>\n              </Button>\n            </div>\n\n            {/* Score progress bar */}\n            <div className=\"space-y-1\">\n              <Progress value={candidate.score} className=\"h-1.5\" />\n            </div>\n\n            <div className=\"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-muted-foreground\">\n              {candidate.age && (\n                <span className=\"flex items-center gap-1\">\n                  <User className=\"h-3.5 w-3.5\" />\n                  {candidate.age} лет\n                </span>\n              )}\n              <span className=\"flex items-center gap-1\">\n                <MapPin className=\"h-3.5 w-3.5\" />\n                {candidate.city}\n              </span>\n              <span className=\"flex items-center gap-1\">\n                <Briefcase className=\"h-3.5 w-3.5\" />\n                {candidate.experience}\n              </span>\n              <span className=\"flex items-center gap-1\">\n                <Calendar className=\"h-3.5 w-3.5\" />\n                {candidate.lastUpdate}\n              </span>\n            </div>\n\n            <div className=\"flex flex-wrap items-center gap-2 rounded-lg bg-muted/50 p-2\">\n              {candidate.contacts.phone ? (\n                <div className=\"flex items-center gap-1\">\n                  <Phone className=\"h-3.5 w-3.5 text-green-600\" />\n                  <span className=\"text-sm font-medium\">{candidate.contacts.phone}</span>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={copyPhone}>\n                    {copiedPhone ? <Check className=\"h-3 w-3 text-green-600\" /> : <Copy className=\"h-3 w-3\" />}\n                  </Button>\n                </div>\n              ) : (\n                <span className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                  <Phone className=\"h-3.5 w-3.5\" />\n                  Телефон не указан\n                </span>\n              )}\n\n              {candidate.contacts.email ? (\n                <div className=\"flex items-center gap-1\">\n                  <Mail className=\"h-3.5 w-3.5 text-blue-600\" />\n                  <span className=\"text-sm font-medium\">{candidate.contacts.email}</span>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\" onClick={copyEmail}>\n                    {copiedEmail ? <Check className=\"h-3 w-3 text-green-600\" /> : <Copy className=\"h-3 w-3\" />}\n                  </Button>\n                </div>\n              ) : (\n                <span className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                  <Mail className=\"h-3.5 w-3.5\" />\n                  Email не указан\n                </span>\n              )}\n            </div>\n\n            <div className=\"flex items-center justify-between gap-2\">\n              <span className=\"font-medium text-foreground\">{candidate.salary}</span>\n              <div className=\"flex gap-2\">\n                {candidate.contacts.email && (\n                  <Button variant=\"outline\" size=\"sm\" className=\"h-7 gap-1.5 text-xs bg-transparent\" asChild>\n                    <a href={`mailto:${candidate.contacts.email}`}>\n                      <Mail className=\"h-3 w-3\" />\n                      Написать\n                    </a>\n                  </Button>\n                )}\n                {candidate.contacts.phone && (\n                  <Button variant=\"outline\" size=\"sm\" className=\"h-7 gap-1.5 text-xs bg-transparent\" asChild>\n                    <a href={`tel:${candidate.contacts.phone}`}>\n                      <Phone className=\"h-3 w-3\" />\n                      Позвонить\n                    </a>\n                  </Button>\n                )}\n                <Button\n                  variant=\"default\"\n                  size=\"sm\"\n                  className=\"h-7 gap-1.5 text-xs\"\n                  onClick={() => onInvite(candidate)}\n                  disabled={!vacancyConfig?.id}\n                  title={vacancyConfig?.id ? `Пригласить на \"${vacancyConfig.name}\"` : \"Укажите ID вакансии\"}\n                >\n                  <UserPlus className=\"h-3 w-3\" />\n                  Пригласить\n                </Button>\n              </div>\n            </div>\n\n            {candidate.skills.length > 0 && (\n              <div className=\"flex flex-wrap gap-1\">\n                {candidate.skills.slice(0, 5).map((skill) => (\n                  <Badge key={skill} variant=\"secondary\" className=\"text-xs\">\n                    {skill}\n                  </Badge>\n                ))}\n                {candidate.skills.length > 5 && (\n                  <Badge variant=\"outline\" className=\"text-xs\">\n                    +{candidate.skills.length - 5}\n                  </Badge>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2684, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/candidates-list.tsx"],"sourcesContent":["\"use client\"\n\nimport { CandidateCard } from \"./candidate-card\"\nimport { Button } from \"@/components/ui/button\"\nimport { ChevronLeft, ChevronRight, Users, SearchX } from \"lucide-react\"\nimport type { ScoredCandidate, VacancyConfig } from \"@/lib/types\"\n\ninterface CandidatesListProps {\n  candidates: ScoredCandidate[]\n  totalFound: number\n  currentPage: number\n  totalPages: number\n  onPageChange: (page: number) => void\n  isLoading: boolean\n  vacancyConfig: VacancyConfig | null\n  onInvite: (candidate: ScoredCandidate) => void\n}\n\nexport function CandidatesList({\n  candidates,\n  totalFound,\n  currentPage,\n  totalPages,\n  onPageChange,\n  isLoading,\n  vacancyConfig,\n  onInvite,\n}: CandidatesListProps) {\n  if (isLoading) {\n    return (\n      <div className=\"space-y-4\">\n        {Array.from({ length: 5 }).map((_, i) => (\n          <div key={i} className=\"h-40 animate-pulse rounded-lg bg-muted\" />\n        ))}\n      </div>\n    )\n  }\n\n  if (candidates.length === 0) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n        <SearchX className=\"h-12 w-12 text-muted-foreground/50\" />\n        <h3 className=\"mt-4 text-lg font-semibold\">Кандидаты не найдены</h3>\n        <p className=\"mt-1 text-sm text-muted-foreground\">Попробуйте изменить параметры поиска</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n          <Users className=\"h-4 w-4\" />\n          Найдено: <span className=\"font-medium text-foreground\">{totalFound.toLocaleString(\"ru-RU\")}</span> кандидатов\n        </div>\n        {totalPages > 1 && (\n          <div className=\"text-sm text-muted-foreground\">\n            Страница {currentPage + 1} из {totalPages}\n          </div>\n        )}\n      </div>\n\n      <div className=\"space-y-3\">\n        {candidates.map((candidate) => (\n          <CandidateCard key={candidate.id} candidate={candidate} vacancyConfig={vacancyConfig} onInvite={onInvite} />\n        ))}\n      </div>\n\n      {totalPages > 1 && (\n        <div className=\"flex items-center justify-center gap-2 pt-4\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => onPageChange(currentPage - 1)}\n            disabled={currentPage === 0}\n          >\n            <ChevronLeft className=\"h-4 w-4\" />\n            Назад\n          </Button>\n          <div className=\"flex items-center gap-1\">\n            {Array.from({ length: Math.min(5, totalPages) }).map((_, i) => {\n              let pageNum: number\n              if (totalPages <= 5) {\n                pageNum = i\n              } else if (currentPage < 3) {\n                pageNum = i\n              } else if (currentPage > totalPages - 4) {\n                pageNum = totalPages - 5 + i\n              } else {\n                pageNum = currentPage - 2 + i\n              }\n\n              return (\n                <Button\n                  key={pageNum}\n                  variant={pageNum === currentPage ? \"default\" : \"outline\"}\n                  size=\"sm\"\n                  className=\"h-8 w-8 p-0\"\n                  onClick={() => onPageChange(pageNum)}\n                >\n                  {pageNum + 1}\n                </Button>\n              )\n            })}\n          </div>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => onPageChange(currentPage + 1)}\n            disabled={currentPage >= totalPages - 1}\n          >\n            Вперёд\n            <ChevronRight className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAJA;;;;;AAkBO,SAAS,eAAe,EAC7B,UAAU,EACV,UAAU,EACV,WAAW,EACX,UAAU,EACV,YAAY,EACZ,SAAS,EACT,aAAa,EACb,QAAQ,EACY;IACpB,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACZ,MAAM,IAAI,CAAC;gBAAE,QAAQ;YAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,6LAAC;oBAAY,WAAU;mBAAb;;;;;;;;;;IAIlB;IAEA,IAAI,WAAW,MAAM,KAAK,GAAG;QAC3B,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC,0NAAO;oBAAC,WAAU;;;;;;8BACnB,6LAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAC3C,6LAAC;oBAAE,WAAU;8BAAqC;;;;;;;;;;;;IAGxD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,gNAAK;gCAAC,WAAU;;;;;;4BAAY;0CACpB,6LAAC;gCAAK,WAAU;0CAA+B,WAAW,cAAc,CAAC;;;;;;4BAAgB;;;;;;;oBAEnG,aAAa,mBACZ,6LAAC;wBAAI,WAAU;;4BAAgC;4BACnC,cAAc;4BAAE;4BAAK;;;;;;;;;;;;;0BAKrC,6LAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAC,0BACf,6LAAC,oJAAa;wBAAoB,WAAW;wBAAW,eAAe;wBAAe,UAAU;uBAA5E,UAAU,EAAE;;;;;;;;;;YAInC,aAAa,mBACZ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,wIAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,aAAa,cAAc;wBAC1C,UAAU,gBAAgB;;0CAE1B,6LAAC,sOAAW;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAGrC,6LAAC;wBAAI,WAAU;kCACZ,MAAM,IAAI,CAAC;4BAAE,QAAQ,KAAK,GAAG,CAAC,GAAG;wBAAY,GAAG,GAAG,CAAC,CAAC,GAAG;4BACvD,IAAI;4BACJ,IAAI,cAAc,GAAG;gCACnB,UAAU;4BACZ,OAAO,IAAI,cAAc,GAAG;gCAC1B,UAAU;4BACZ,OAAO,IAAI,cAAc,aAAa,GAAG;gCACvC,UAAU,aAAa,IAAI;4BAC7B,OAAO;gCACL,UAAU,cAAc,IAAI;4BAC9B;4BAEA,qBACE,6LAAC,wIAAM;gCAEL,SAAS,YAAY,cAAc,YAAY;gCAC/C,MAAK;gCACL,WAAU;gCACV,SAAS,IAAM,aAAa;0CAE3B,UAAU;+BANN;;;;;wBASX;;;;;;kCAEF,6LAAC,wIAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,aAAa,cAAc;wBAC1C,UAAU,eAAe,aAAa;;4BACvC;0CAEC,6LAAC,yOAAY;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMpC;KApGgB"}},
    {"offset": {"line": 2918, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/statistics-card.tsx"],"sourcesContent":["\"use client\"\n\nimport { Users, Clock, Search } from \"lucide-react\"\nimport { Card, CardContent } from \"@/components/ui/card\"\n\ninterface StatisticsCardProps {\n  totalFound: number\n  searchTime: number\n  searchQuery: string\n}\n\nexport function StatisticsCard({ totalFound, searchTime, searchQuery }: StatisticsCardProps) {\n  if (!searchQuery) return null\n\n  return (\n    <Card className=\"bg-muted/50\">\n      <CardContent className=\"flex flex-wrap items-center gap-6 p-4\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10\">\n            <Search className=\"h-4 w-4 text-primary\" />\n          </div>\n          <div>\n            <p className=\"text-xs text-muted-foreground\">Запрос</p>\n            <p className=\"text-sm font-medium truncate max-w-48\">{searchQuery}</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10\">\n            <Users className=\"h-4 w-4 text-primary\" />\n          </div>\n          <div>\n            <p className=\"text-xs text-muted-foreground\">Найдено</p>\n            <p className=\"text-sm font-medium\">{totalFound.toLocaleString(\"ru-RU\")}</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10\">\n            <Clock className=\"h-4 w-4 text-primary\" />\n          </div>\n          <div>\n            <p className=\"text-xs text-muted-foreground\">Время</p>\n            <p className=\"text-sm font-medium\">{searchTime.toFixed(2)} сек</p>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AAHA;;;;AAWO,SAAS,eAAe,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAuB;IACzF,IAAI,CAAC,aAAa,OAAO;IAEzB,qBACE,6LAAC,oIAAI;QAAC,WAAU;kBACd,cAAA,6LAAC,2IAAW;YAAC,WAAU;;8BACrB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,mNAAM;gCAAC,WAAU;;;;;;;;;;;sCAEpB,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAgC;;;;;;8CAC7C,6LAAC;oCAAE,WAAU;8CAAyC;;;;;;;;;;;;;;;;;;8BAI1D,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,gNAAK;gCAAC,WAAU;;;;;;;;;;;sCAEnB,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAgC;;;;;;8CAC7C,6LAAC;oCAAE,WAAU;8CAAuB,WAAW,cAAc,CAAC;;;;;;;;;;;;;;;;;;8BAIlE,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,gNAAK;gCAAC,WAAU;;;;;;;;;;;sCAEnB,6LAAC;;8CACC,6LAAC;oCAAE,WAAU;8CAAgC;;;;;;8CAC7C,6LAAC;oCAAE,WAAU;;wCAAuB,WAAW,OAAO,CAAC;wCAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMtE;KAtCgB"}},
    {"offset": {"line": 3104, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/export-button.tsx"],"sourcesContent":["\"use client\"\n\nimport { Download } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport type { ScoredCandidate } from \"@/lib/types\"\n\ninterface ExportButtonProps {\n  candidates: ScoredCandidate[]\n  disabled?: boolean\n  searchSessionId?: string\n  vacancyId?: string\n  appliedFilters?: Record<string, any>\n}\n\nexport function exportScoredToCsv(candidates: ScoredCandidate[]): string {\n  const headers = [\n    \"ID\",\n    \"ФИО\",\n    \"Должность\",\n    \"Оценка\",\n    \"Рейтинг\",\n    \"Возраст\",\n    \"Город\",\n    \"Зарплата\",\n    \"Опыт\",\n    \"Навыки\",\n    \"Обновлено\",\n    \"Email\",\n    \"Телефон\",\n    \"Ссылка\",\n    \"Опыт_балл\",\n    \"Навыки_балл\",\n    \"Зарплата_балл\",\n    \"Образование_балл\",\n    \"Активность_балл\",\n    \"Бонус_балл\",\n  ]\n\n  const rows = candidates.map((c) => [\n    c.id,\n    c.fullName,\n    c.title,\n    c.score ?? \"\",\n    c.rating ?? \"\",\n    c.age || \"\",\n    c.city,\n    c.salary,\n    c.experience,\n    c.skills.join(\"; \"),\n    c.lastUpdate,\n    c.contacts.email || \"\",\n    c.contacts.phone || \"\",\n    c.resumeUrl,\n    // Детальные баллы\n    c.breakdown?.experience ?? \"\",\n    c.breakdown?.skills ?? \"\",\n    c.breakdown?.salary ?? \"\",\n    c.breakdown?.education ?? \"\",\n    c.breakdown?.jobSearchStatus ?? \"\",\n    c.breakdown?.bonus ?? \"\",\n  ])\n\n  const csvContent = [headers, ...rows]\n    .map((row) => row.map((cell) => `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(\",\"))\n    .join(\"\\n\")\n\n  return csvContent\n}\n\nfunction downloadCsv(content: string, filename: string): void {\n  const blob = new Blob([\"\\ufeff\" + content], { type: \"text/csv;charset=utf-8;\" })\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement(\"a\")\n  link.href = url\n  link.download = filename\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n}\n\nasync function logExportToDb(\n  candidatesCount: number,\n  fileName: string,\n  searchSessionId?: string,\n  vacancyId?: string,\n  appliedFilters?: Record<string, any>,\n  scoreRange?: { min?: number; max?: number },\n) {\n  try {\n    await fetch(\"/api/db/exports\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        candidatesCount,\n        fileName,\n        format: \"csv\",\n        searchSessionId,\n        vacancyId,\n        appliedFilters,\n        scoreRange,\n      }),\n    })\n  } catch (error) {\n    console.error(\"Failed to log export:\", error)\n  }\n}\n\nexport function ExportButton({ candidates, disabled, searchSessionId, vacancyId, appliedFilters }: ExportButtonProps) {\n  const handleExport = async () => {\n    const csv = exportScoredToCsv(candidates)\n    const filename = `candidates_${new Date().toISOString().slice(0, 10)}.csv`\n    downloadCsv(csv, filename)\n\n    const scores = candidates.map((c) => c.score).filter((s) => s !== undefined)\n    await logExportToDb(candidates.length, filename, searchSessionId, vacancyId, appliedFilters, {\n      min: scores.length > 0 ? Math.min(...scores) : undefined,\n      max: scores.length > 0 ? Math.max(...scores) : undefined,\n    })\n  }\n\n  return (\n    <Button variant=\"outline\" size=\"sm\" onClick={handleExport} disabled={disabled || candidates.length === 0}>\n      <Download className=\"mr-2 h-4 w-4\" />\n      Экспорт CSV\n    </Button>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAcO,SAAS,kBAAkB,UAA6B;IAC7D,MAAM,UAAU;QACd;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAM,OAAO,WAAW,GAAG,CAAC,CAAC,IAAM;YACjC,EAAE,EAAE;YACJ,EAAE,QAAQ;YACV,EAAE,KAAK;YACP,EAAE,KAAK,IAAI;YACX,EAAE,MAAM,IAAI;YACZ,EAAE,GAAG,IAAI;YACT,EAAE,IAAI;YACN,EAAE,MAAM;YACR,EAAE,UAAU;YACZ,EAAE,MAAM,CAAC,IAAI,CAAC;YACd,EAAE,UAAU;YACZ,EAAE,QAAQ,CAAC,KAAK,IAAI;YACpB,EAAE,QAAQ,CAAC,KAAK,IAAI;YACpB,EAAE,SAAS;YACX,kBAAkB;YAClB,EAAE,SAAS,EAAE,cAAc;YAC3B,EAAE,SAAS,EAAE,UAAU;YACvB,EAAE,SAAS,EAAE,UAAU;YACvB,EAAE,SAAS,EAAE,aAAa;YAC1B,EAAE,SAAS,EAAE,mBAAmB;YAChC,EAAE,SAAS,EAAE,SAAS;SACvB;IAED,MAAM,aAAa;QAAC;WAAY;KAAK,CAClC,GAAG,CAAC,CAAC,MAAQ,IAAI,GAAG,CAAC,CAAC,OAAS,CAAC,CAAC,EAAE,OAAO,MAAM,OAAO,CAAC,MAAM,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAC7E,IAAI,CAAC;IAER,OAAO;AACT;AAEA,SAAS,YAAY,OAAe,EAAE,QAAgB;IACpD,MAAM,OAAO,IAAI,KAAK;QAAC,WAAW;KAAQ,EAAE;QAAE,MAAM;IAA0B;IAC9E,MAAM,MAAM,IAAI,eAAe,CAAC;IAChC,MAAM,OAAO,SAAS,aAAa,CAAC;IACpC,KAAK,IAAI,GAAG;IACZ,KAAK,QAAQ,GAAG;IAChB,SAAS,IAAI,CAAC,WAAW,CAAC;IAC1B,KAAK,KAAK;IACV,SAAS,IAAI,CAAC,WAAW,CAAC;IAC1B,IAAI,eAAe,CAAC;AACtB;AAEA,eAAe,cACb,eAAuB,EACvB,QAAgB,EAChB,eAAwB,EACxB,SAAkB,EAClB,cAAoC,EACpC,UAA2C;IAE3C,IAAI;QACF,MAAM,MAAM,mBAAmB;YAC7B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB;gBACA;gBACA,QAAQ;gBACR;gBACA;gBACA;gBACA;YACF;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;IACzC;AACF;AAEO,SAAS,aAAa,EAAE,UAAU,EAAE,QAAQ,EAAE,eAAe,EAAE,SAAS,EAAE,cAAc,EAAqB;IAClH,MAAM,eAAe;QACnB,MAAM,MAAM,kBAAkB;QAC9B,MAAM,WAAW,CAAC,WAAW,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,GAAG,IAAI,IAAI,CAAC;QAC1E,YAAY,KAAK;QAEjB,MAAM,SAAS,WAAW,GAAG,CAAC,CAAC,IAAM,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,IAAM,MAAM;QAClE,MAAM,cAAc,WAAW,MAAM,EAAE,UAAU,iBAAiB,WAAW,gBAAgB;YAC3F,KAAK,OAAO,MAAM,GAAG,IAAI,KAAK,GAAG,IAAI,UAAU;YAC/C,KAAK,OAAO,MAAM,GAAG,IAAI,KAAK,GAAG,IAAI,UAAU;QACjD;IACF;IAEA,qBACE,6LAAC,wIAAM;QAAC,SAAQ;QAAU,MAAK;QAAK,SAAS;QAAc,UAAU,YAAY,WAAW,MAAM,KAAK;;0BACrG,6LAAC,yNAAQ;gBAAC,WAAU;;;;;;YAAiB;;;;;;;AAI3C;KAnBgB"}},
    {"offset": {"line": 3247, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/scroll-area.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area'\n\nimport { cn } from '@/lib/utils'\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn('relative', className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  )\n}\n\nfunction ScrollBar({\n  className,\n  orientation = 'vertical',\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        'flex touch-none p-px transition-colors select-none',\n        orientation === 'vertical' &&\n          'h-full w-2.5 border-l border-l-transparent',\n        orientation === 'horizontal' &&\n          'h-2.5 flex-col border-t border-t-transparent',\n        className,\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-full\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  )\n}\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6LAAC,qLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;0BAET,6LAAC,yLAA4B;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;AAGjC;KArBS;AAuBT,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,6LAAC,oMAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,IAAA,qHAAE,EACX,sDACA,gBAAgB,cACd,8CACF,gBAAgB,gBACd,gDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB;MAzBS"}},
    {"offset": {"line": 3325, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/popover.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as PopoverPrimitive from '@radix-ui/react-popover'\n\nimport { cn } from '@/lib/utils'\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\n}\n\nfunction PopoverContent({\n  className,\n  align = 'center',\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden',\n          className,\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  )\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\n}\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAW,GAAG,KAAK;;;;;;AAC7D;KAJS;AAMT,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,6LAAC,iLAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,EACtB,SAAS,EACT,QAAQ,QAAQ,EAChB,aAAa,CAAC,EACd,GAAG,OACmD;IACtD,qBACE,6LAAC,gLAAuB;kBACtB,cAAA,6LAAC,iLAAwB;YACvB,aAAU;YACV,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,qHAAE,EACX,keACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIjB;MApBS;AAsBT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,gLAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS"}},
    {"offset": {"line": 3408, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/search-history.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { History, X, Clock } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\"\nimport type { SearchHistory, SearchFilters } from \"@/lib/types\"\n\ninterface SearchHistoryProps {\n  onSelectHistory: (filters: SearchFilters) => void\n}\n\nconst HISTORY_KEY = \"hh_search_history\"\nconst MAX_HISTORY = 10\n\nexport function addToHistory(filters: SearchFilters, resultsCount: number) {\n  if (!filters.text.trim()) return\n\n  const stored = localStorage.getItem(HISTORY_KEY)\n  const history: SearchHistory[] = stored ? JSON.parse(stored) : []\n\n  const newEntry: SearchHistory = {\n    id: Date.now().toString(),\n    query: filters.text,\n    filters,\n    timestamp: Date.now(),\n    resultsCount,\n  }\n\n  const filtered = history.filter((h) => h.query !== filters.text)\n  const updated = [newEntry, ...filtered].slice(0, MAX_HISTORY)\n\n  localStorage.setItem(HISTORY_KEY, JSON.stringify(updated))\n}\n\nexport function SearchHistoryButton({ onSelectHistory }: SearchHistoryProps) {\n  const [history, setHistory] = useState<SearchHistory[]>([])\n  const [open, setOpen] = useState(false)\n\n  useEffect(() => {\n    const stored = localStorage.getItem(HISTORY_KEY)\n    if (stored) {\n      setHistory(JSON.parse(stored))\n    }\n  }, [open])\n\n  const clearHistory = () => {\n    localStorage.removeItem(HISTORY_KEY)\n    setHistory([])\n  }\n\n  const removeItem = (id: string) => {\n    const updated = history.filter((h) => h.id !== id)\n    localStorage.setItem(HISTORY_KEY, JSON.stringify(updated))\n    setHistory(updated)\n  }\n\n  const selectItem = (item: SearchHistory) => {\n    onSelectHistory(item.filters)\n    setOpen(false)\n  }\n\n  const formatTime = (timestamp: number) => {\n    const date = new Date(timestamp)\n    return date.toLocaleDateString(\"ru-RU\", {\n      day: \"numeric\",\n      month: \"short\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    })\n  }\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button variant=\"outline\" size=\"sm\" className=\"gap-2 bg-transparent\">\n          <History className=\"h-4 w-4\" />\n          История\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-80 p-0\" align=\"end\">\n        <div className=\"flex items-center justify-between border-b p-3\">\n          <h4 className=\"text-sm font-medium\">История поиска</h4>\n          {history.length > 0 && (\n            <Button variant=\"ghost\" size=\"sm\" className=\"h-7 text-xs\" onClick={clearHistory}>\n              Очистить\n            </Button>\n          )}\n        </div>\n        {history.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center py-8 text-center\">\n            <Clock className=\"h-8 w-8 text-muted-foreground/50\" />\n            <p className=\"mt-2 text-sm text-muted-foreground\">История пуста</p>\n          </div>\n        ) : (\n          <ScrollArea className=\"h-64\">\n            <div className=\"space-y-1 p-2\">\n              {history.map((item) => (\n                <div\n                  key={item.id}\n                  className=\"group flex items-center justify-between rounded-md p-2 hover:bg-muted cursor-pointer\"\n                  onClick={() => selectItem(item)}\n                >\n                  <div className=\"min-w-0 flex-1\">\n                    <p className=\"truncate text-sm font-medium\">{item.query}</p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {item.resultsCount.toLocaleString(\"ru-RU\")} результатов • {formatTime(item.timestamp)}\n                    </p>\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-6 w-6 opacity-0 group-hover:opacity-100\"\n                    onClick={(e) => {\n                      e.stopPropagation()\n                      removeItem(item.id)\n                    }}\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </Button>\n                </div>\n              ))}\n            </div>\n          </ScrollArea>\n        )}\n      </PopoverContent>\n    </Popover>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3668, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS"}},
    {"offset": {"line": 3698, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/alert.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,6LAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAbS;AAeT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 3774, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/load-vacancy-by-id.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport { Loader2, Link2, CheckCircle2, AlertCircle } from \"lucide-react\"\nimport type { VacancyConfig, SearchFilters } from \"@/lib/types\"\n\ninterface LoadVacancyByIdProps {\n  token: string\n  onVacancyLoaded: (config: Partial<VacancyConfig>, filters: Partial<SearchFilters>) => void\n}\n\nexport function LoadVacancyById({ token, onVacancyLoaded }: LoadVacancyByIdProps) {\n  const [vacancyId, setVacancyId] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [success, setSuccess] = useState<string | null>(null)\n\n  // Extract vacancy ID from URL or plain ID\n  const extractVacancyId = (input: string): string => {\n    const trimmed = input.trim()\n\n    // Check if it's a URL - handle various HH.ru URL formats\n    const urlPatterns = [/hh\\.ru\\/vacancy\\/(\\d+)/, /headhunter\\.ru\\/vacancy\\/(\\d+)/, /^(\\d+)$/]\n\n    for (const pattern of urlPatterns) {\n      const match = trimmed.match(pattern)\n      if (match) {\n        return match[1]\n      }\n    }\n\n    // Try to extract just numbers from the input\n    const numbersOnly = trimmed.replace(/\\D/g, \"\")\n    if (numbersOnly.length >= 6) {\n      return numbersOnly\n    }\n\n    return trimmed\n  }\n\n  const handleLoadVacancy = async () => {\n    const id = extractVacancyId(vacancyId)\n\n    if (!id || !/^\\d+$/.test(id)) {\n      setError(\"Пожалуйста, введите корректный ID вакансии (только цифры) или ссылку на вакансию\")\n      return\n    }\n\n    setLoading(true)\n    setError(null)\n    setSuccess(null)\n\n    console.log(\"[v0] Loading vacancy with ID:\", id)\n\n    try {\n      const response = await fetch(`/api/vacancy/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n\n      console.log(\"[v0] Response status:\", response.status)\n\n      const data = await response.json()\n      console.log(\"[v0] Response data:\", data)\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Вакансия не найдена\")\n      }\n\n      // Update vacancy config\n      const vacancyConfig: Partial<VacancyConfig> = {\n        id: data.vacancy.id,\n        name: data.vacancy.title,\n        city: data.searchParams.area,\n        requiredExperience: data.searchParams.experience,\n        salaryMin: data.searchParams.salaryFrom || undefined,\n        salaryMax: data.searchParams.salaryTo || undefined,\n        requiredSkills: data.vacancy.skills.slice(0, 5), // Top 5 skills\n        bonusSkills: data.vacancy.skills.slice(5, 10), // Next 5 as bonus\n      }\n\n      // Update search filters\n      const searchFilters: Partial<SearchFilters> = {\n        text: data.vacancy.title,\n        area: data.searchParams.area,\n        experience: data.searchParams.experience,\n        salaryFrom: data.searchParams.salaryFrom?.toString() || \"\",\n        salaryTo: data.searchParams.salaryTo?.toString() || \"\",\n      }\n\n      console.log(\"[v0] Calling onVacancyLoaded with:\", { vacancyConfig, searchFilters })\n\n      onVacancyLoaded(vacancyConfig, searchFilters)\n\n      setSuccess(\n        `Вакансия \"${data.vacancy.title}\" загружена! Регион: ${data.vacancy.region}. Навыки: ${data.vacancy.skills.slice(0, 3).join(\", \")}${data.vacancy.skills.length > 3 ? \"...\" : \"\"}`,\n      )\n    } catch (err) {\n      console.error(\"[v0] Error loading vacancy:\", err)\n      setError(err instanceof Error ? err.message : \"Ошибка загрузки вакансии. Проверьте ID и токен.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Card className=\"border-dashed border-2 border-primary/30 bg-gradient-to-r from-primary/5 to-primary/10\">\n      <CardContent className=\"p-4\">\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center gap-2\">\n            <Link2 className=\"h-5 w-5 text-primary\" />\n            <Label className=\"text-base font-semibold\">Быстрая загрузка вакансии по ID</Label>\n          </div>\n\n          <p className=\"text-sm text-muted-foreground\">\n            Вставьте ID или ссылку на вакансию с HH.ru - название, регион, зарплата и навыки заполнятся автоматически\n          </p>\n\n          <div className=\"flex gap-2\">\n            <Input\n              placeholder=\"128368179 или https://hh.ru/vacancy/128368179\"\n              value={vacancyId}\n              onChange={(e) => {\n                setVacancyId(e.target.value)\n                setError(null)\n                setSuccess(null)\n              }}\n              onKeyDown={(e) => e.key === \"Enter\" && handleLoadVacancy()}\n              disabled={loading}\n              className=\"flex-1\"\n            />\n            <Button onClick={handleLoadVacancy} disabled={loading || !vacancyId.trim()} className=\"gap-2 min-w-[140px]\">\n              {loading ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  Загрузка...\n                </>\n              ) : (\n                <>\n                  <Link2 className=\"h-4 w-4\" />\n                  Загрузить\n                </>\n              )}\n            </Button>\n          </div>\n\n          {error && (\n            <Alert variant=\"destructive\" className=\"py-2\">\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n          )}\n\n          {success && (\n            <Alert className=\"py-2 border-green-500 bg-green-50 dark:bg-green-950\">\n              <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\n              <AlertDescription className=\"text-green-700 dark:text-green-300\">{success}</AlertDescription>\n            </Alert>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4053, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/vacancy-config.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { X, Plus, Briefcase, Settings2 } from \"lucide-react\"\nimport { LoadVacancyById } from \"@/components/load-vacancy-by-id\"\nimport type { VacancyConfig, SearchFilters } from \"@/lib/types\"\nimport { EXPERIENCE_OPTIONS, AREA_OPTIONS } from \"@/lib/types\"\n\ninterface VacancyConfigFormProps {\n  config: VacancyConfig\n  onChange: (config: VacancyConfig) => void\n  token?: string\n  onFiltersChange?: (filters: Partial<SearchFilters>) => void\n}\n\nexport function VacancyConfigForm({ config, onChange, token, onFiltersChange }: VacancyConfigFormProps) {\n  const [newRequiredSkill, setNewRequiredSkill] = useState(\"\")\n  const [newBonusSkill, setNewBonusSkill] = useState(\"\")\n\n  const updateConfig = (updates: Partial<VacancyConfig>) => {\n    onChange({ ...config, ...updates })\n  }\n\n  const handleVacancyLoaded = (vacancyConfig: Partial<VacancyConfig>, filters: Partial<SearchFilters>) => {\n    console.log(\"[v0] VacancyConfigForm received:\", { vacancyConfig, filters })\n    onChange({ ...config, ...vacancyConfig })\n    if (onFiltersChange) {\n      onFiltersChange(filters)\n    }\n  }\n\n  const addRequiredSkill = () => {\n    if (newRequiredSkill.trim() && !config.requiredSkills.includes(newRequiredSkill.trim())) {\n      updateConfig({ requiredSkills: [...config.requiredSkills, newRequiredSkill.trim()] })\n      setNewRequiredSkill(\"\")\n    }\n  }\n\n  const removeRequiredSkill = (skill: string) => {\n    updateConfig({ requiredSkills: config.requiredSkills.filter((s) => s !== skill) })\n  }\n\n  const addBonusSkill = () => {\n    if (newBonusSkill.trim() && !config.bonusSkills.includes(newBonusSkill.trim())) {\n      updateConfig({ bonusSkills: [...config.bonusSkills, newBonusSkill.trim()] })\n      setNewBonusSkill(\"\")\n    }\n  }\n\n  const removeBonusSkill = (skill: string) => {\n    updateConfig({ bonusSkills: config.bonusSkills.filter((s) => s !== skill) })\n  }\n\n  return (\n    <Card className=\"border-primary/20 bg-primary/5\">\n      <CardHeader className=\"pb-4\">\n        <div className=\"flex items-center gap-2\">\n          <Briefcase className=\"h-5 w-5 text-primary\" />\n          <CardTitle className=\"text-lg\">Настройки вакансии</CardTitle>\n        </div>\n        <CardDescription>Укажите параметры вакансии для поиска и оценки кандидатов</CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {token && <LoadVacancyById token={token} onVacancyLoaded={handleVacancyLoaded} />}\n\n        <div className=\"grid gap-4 sm:grid-cols-2\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"vacancy-name\">Название вакансии</Label>\n            <Input\n              id=\"vacancy-name\"\n              placeholder=\"Загрузится автоматически или введите вручную\"\n              value={config.name}\n              onChange={(e) => updateConfig({ name: e.target.value })}\n            />\n            {config.id && <p className=\"text-xs text-green-600 dark:text-green-400\">ID вакансии: {config.id}</p>}\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"vacancy-city\">Город</Label>\n            <Select value={config.city} onValueChange={(value) => updateConfig({ city: value })}>\n              <SelectTrigger id=\"vacancy-city\">\n                <SelectValue placeholder=\"Выберите город\" />\n              </SelectTrigger>\n              <SelectContent>\n                {AREA_OPTIONS.map((area) => (\n                  <SelectItem key={area.value || \"all\"} value={area.value || \"all\"}>\n                    {area.label}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"required-experience\">Требуемый опыт</Label>\n          <Select\n            value={config.requiredExperience}\n            onValueChange={(value) => updateConfig({ requiredExperience: value })}\n          >\n            <SelectTrigger id=\"required-experience\">\n              <SelectValue placeholder=\"Выберите опыт\" />\n            </SelectTrigger>\n            <SelectContent>\n              {EXPERIENCE_OPTIONS.map((exp) => (\n                <SelectItem key={exp.value || \"any\"} value={exp.value || \"any\"}>\n                  {exp.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label className=\"flex items-center gap-2\">\n            <Settings2 className=\"h-4 w-4\" />\n            Диапазон зарплаты (для оценки кандидатов)\n          </Label>\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-1\">\n              <Input\n                type=\"number\"\n                placeholder=\"от 90000\"\n                value={config.salaryMin || \"\"}\n                onChange={(e) => updateConfig({ salaryMin: Number(e.target.value) || 0 })}\n              />\n              <p className=\"text-xs text-muted-foreground\">Минимальная зарплата (Р)</p>\n            </div>\n            <div className=\"space-y-1\">\n              <Input\n                type=\"number\"\n                placeholder=\"до 150000\"\n                value={config.salaryMax || \"\"}\n                onChange={(e) => updateConfig({ salaryMax: Number(e.target.value) || 0 })}\n              />\n              <p className=\"text-xs text-muted-foreground\">Максимальная зарплата (Р)</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label>Обязательные навыки (для оценки)</Label>\n          <div className=\"flex gap-2\">\n            <Input\n              placeholder=\"Например: CRM, B2B, продажи\"\n              value={newRequiredSkill}\n              onChange={(e) => setNewRequiredSkill(e.target.value)}\n              onKeyDown={(e) => e.key === \"Enter\" && (e.preventDefault(), addRequiredSkill())}\n            />\n            <Button type=\"button\" variant=\"outline\" size=\"icon\" onClick={addRequiredSkill}>\n              <Plus className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          {config.requiredSkills.length > 0 && (\n            <div className=\"flex flex-wrap gap-1 pt-1\">\n              {config.requiredSkills.map((skill) => (\n                <Badge key={skill} variant=\"default\" className=\"gap-1\">\n                  {skill}\n                  <button\n                    type=\"button\"\n                    onClick={() => removeRequiredSkill(skill)}\n                    className=\"ml-1 hover:text-destructive\"\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </button>\n                </Badge>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label>Желательные навыки (бонус к оценке)</Label>\n          <div className=\"flex gap-2\">\n            <Input\n              placeholder=\"Например: партнерство, холодные звонки\"\n              value={newBonusSkill}\n              onChange={(e) => setNewBonusSkill(e.target.value)}\n              onKeyDown={(e) => e.key === \"Enter\" && (e.preventDefault(), addBonusSkill())}\n            />\n            <Button type=\"button\" variant=\"outline\" size=\"icon\" onClick={addBonusSkill}>\n              <Plus className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          {config.bonusSkills.length > 0 && (\n            <div className=\"flex flex-wrap gap-1 pt-1\">\n              {config.bonusSkills.map((skill) => (\n                <Badge key={skill} variant=\"secondary\" className=\"gap-1\">\n                  {skill}\n                  <button type=\"button\" onClick={() => removeBonusSkill(skill)} className=\"ml-1 hover:text-destructive\">\n                    <X className=\"h-3 w-3\" />\n                  </button>\n                </Badge>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"invite-message\">Текст приглашения</Label>\n          <Textarea\n            id=\"invite-message\"\n            placeholder=\"Добрый день! Приглашаем вас на собеседование на позицию...\"\n            rows={4}\n            value={config.inviteMessage}\n            onChange={(e) => updateConfig({ inviteMessage: e.target.value })}\n          />\n          <p className=\"text-xs text-muted-foreground\">\n            Этот текст будет использоваться при отправке приглашений кандидатам\n          </p>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport const DEFAULT_VACANCY_CONFIG: VacancyConfig = {\n  id: \"\",\n  name: \"\",\n  city: \"\",\n  salary: null,\n  inviteMessage: \"\",\n  requiredExperience: \"between1And3\",\n  requiredSkills: [],\n  bonusSkills: [],\n  salaryMin: 0,\n  salaryMax: 0,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4699, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,gLAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,+KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,8KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6LAAC,4MAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,oLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 4905, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/invite-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Send, Loader2, Star } from \"lucide-react\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport { Button } from \"@/components/ui/button\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Label } from \"@/components/ui/label\"\nimport type { ScoredCandidate, VacancyConfig } from \"@/lib/types\"\n\ninterface InviteDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  candidate: ScoredCandidate | null\n  vacancyConfig: VacancyConfig | null\n  token: string\n  applicationId?: string\n  dbVacancyId?: string\n}\n\nexport function InviteDialog({\n  open,\n  onOpenChange,\n  candidate,\n  vacancyConfig,\n  token,\n  applicationId,\n  dbVacancyId,\n}: InviteDialogProps) {\n  const [message, setMessage] = useState(\"\")\n  const [isLoading, setIsLoading] = useState(false)\n  const [result, setResult] = useState<{ success: boolean; message: string } | null>(null)\n\n  useEffect(() => {\n    if (open && vacancyConfig?.inviteMessage) {\n      setMessage(vacancyConfig.inviteMessage)\n    }\n  }, [open, vacancyConfig])\n\n  const handleSendInvite = async () => {\n    if (!candidate || !vacancyConfig?.id || !token) return\n\n    setIsLoading(true)\n    setResult(null)\n\n    try {\n      const response = await fetch(\"/api/invite\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          token,\n          vacancy_id: vacancyConfig.id,\n          resume_id: candidate.id,\n          message: message.trim() || undefined,\n        }),\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Ошибка отправки приглашения\")\n      }\n\n      if (applicationId && dbVacancyId) {\n        try {\n          await fetch(\"/api/db/invitations\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              applicationId,\n              candidateId: candidate.id,\n              vacancyId: dbVacancyId,\n              message: message.trim(),\n              hhInvitationId: data.invitation_id,\n            }),\n          })\n        } catch (dbError) {\n          console.error(\"Failed to log invitation to DB:\", dbError)\n        }\n      }\n\n      setResult({ success: true, message: \"Приглашение успешно отправлено!\" })\n    } catch (err) {\n      setResult({\n        success: false,\n        message: err instanceof Error ? err.message : \"Произошла ошибка\",\n      })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleClose = () => {\n    setResult(null)\n    setMessage(\"\")\n    onOpenChange(false)\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Пригласить кандидата</DialogTitle>\n          <DialogDescription>\n            Отправить приглашение на вакансию \"{vacancyConfig?.name || \"Не указана\"}\"\n          </DialogDescription>\n        </DialogHeader>\n\n        {result ? (\n          <div\n            className={`rounded-lg p-4 text-sm ${\n              result.success\n                ? \"bg-green-500/10 text-green-600 dark:text-green-400\"\n                : \"bg-destructive/10 text-destructive\"\n            }`}\n          >\n            {result.message}\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            <div className=\"rounded-lg border bg-muted/30 p-3 text-sm\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"font-medium\">{candidate?.fullName}</div>\n                  <div className=\"text-muted-foreground\">{candidate?.title}</div>\n                </div>\n                {candidate?.score !== undefined && (\n                  <div className=\"text-center\">\n                    <div className=\"text-lg font-bold text-primary\">{candidate.score}</div>\n                    <div className=\"flex gap-0.5\">\n                      {[...Array(5)].map((_, i) => (\n                        <Star\n                          key={i}\n                          className={`h-2.5 w-2.5 ${\n                            i < (candidate.stars || 0) ? \"fill-yellow-400 text-yellow-400\" : \"text-muted-foreground/30\"\n                          }`}\n                        />\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n              <div className=\"mt-2 text-xs text-muted-foreground\">Вакансия: {vacancyConfig?.name || \"Не указана\"}</div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"message\">Сопроводительное сообщение</Label>\n              <Textarea\n                id=\"message\"\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                placeholder=\"Здравствуйте! Мы заинтересованы в вашей кандидатуре...\"\n                rows={4}\n              />\n              {vacancyConfig?.inviteMessage && (\n                <p className=\"text-xs text-muted-foreground\">\n                  Текст заполнен из настроек вакансии. Вы можете отредактировать его.\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n\n        <DialogFooter>\n          {result?.success ? (\n            <Button onClick={handleClose}>Закрыть</Button>\n          ) : (\n            <>\n              <Button variant=\"outline\" onClick={handleClose} disabled={isLoading}>\n                Отмена\n              </Button>\n              <Button onClick={handleSendInvite} disabled={isLoading || !candidate || !vacancyConfig?.id}>\n                {isLoading ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Отправка...\n                  </>\n                ) : (\n                  <>\n                    <Send className=\"mr-2 h-4 w-4\" />\n                    Пригласить\n                  </>\n                )}\n              </Button>\n            </>\n          )}\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5251, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/components/batch-progress.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Loader2, CheckCircle, XCircle, Star, Database } from \"lucide-react\"\nimport type { BatchProgress } from \"@/lib/batch-loader\"\n\ninterface BatchProgressCardProps {\n  progress: BatchProgress | null\n}\n\nexport function BatchProgressCard({ progress }: BatchProgressCardProps) {\n  if (!progress) return null\n\n  const percentage = progress.total > 0 ? Math.round((progress.loaded / progress.total) * 100) : 0\n\n  const StatusIcon = {\n    loading: <Loader2 className=\"h-5 w-5 animate-spin text-primary\" />,\n    scoring: <Star className=\"h-5 w-5 animate-pulse text-yellow-500\" />,\n    saving: <Database className=\"h-5 w-5 animate-pulse text-blue-500\" />,\n    done: <CheckCircle className=\"h-5 w-5 text-green-500\" />,\n    error: <XCircle className=\"h-5 w-5 text-destructive\" />,\n  }[progress.status]\n\n  return (\n    <Card className=\"border-primary/20\">\n      <CardContent className=\"p-4\">\n        <div className=\"flex items-center gap-4\">\n          {StatusIcon}\n          <div className=\"flex-1 space-y-2\">\n            <div className=\"flex items-center justify-between text-sm\">\n              <span className=\"font-medium\">{progress.message}</span>\n              <span className=\"text-muted-foreground\">\n                {progress.status === \"saving\" && progress.saved !== undefined\n                  ? `${progress.saved} / ${progress.total}`\n                  : `${progress.loaded} / ${progress.total}`}\n              </span>\n            </div>\n            <Progress value={percentage} className=\"h-2\" />\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;AAWO,SAAS,kBAAkB,EAAE,QAAQ,EAA0B;IACpE,IAAI,CAAC,UAAU,OAAO;IAEtB,MAAM,aAAa,SAAS,KAAK,GAAG,IAAI,KAAK,KAAK,CAAC,AAAC,SAAS,MAAM,GAAG,SAAS,KAAK,GAAI,OAAO;IAE/F,MAAM,aAAa;QACjB,uBAAS,6LAAC,+NAAO;YAAC,WAAU;;;;;;QAC5B,uBAAS,6LAAC,6MAAI;YAAC,WAAU;;;;;;QACzB,sBAAQ,6LAAC,yNAAQ;YAAC,WAAU;;;;;;QAC5B,oBAAM,6LAAC,6OAAW;YAAC,WAAU;;;;;;QAC7B,qBAAO,6LAAC,0NAAO;YAAC,WAAU;;;;;;IAC5B,CAAC,CAAC,SAAS,MAAM,CAAC;IAElB,qBACE,6LAAC,oIAAI;QAAC,WAAU;kBACd,cAAA,6LAAC,2IAAW;YAAC,WAAU;sBACrB,cAAA,6LAAC;gBAAI,WAAU;;oBACZ;kCACD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDAAe,SAAS,OAAO;;;;;;kDAC/C,6LAAC;wCAAK,WAAU;kDACb,SAAS,MAAM,KAAK,YAAY,SAAS,KAAK,KAAK,YAChD,GAAG,SAAS,KAAK,CAAC,GAAG,EAAE,SAAS,KAAK,EAAE,GACvC,GAAG,SAAS,MAAM,CAAC,GAAG,EAAE,SAAS,KAAK,EAAE;;;;;;;;;;;;0CAGhD,6LAAC,4IAAQ;gCAAC,OAAO;gCAAY,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMnD;KAjCgB"}},
    {"offset": {"line": 5385, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/lib/hh-api.ts"],"sourcesContent":["import type { HHSearchParams, HHResume, Candidate, HHVacancy } from \"./types\"\n\nconst HH_API_BASE = \"https://api.hh.ru\"\n// Format: AppName/Version (email)\nconst HH_USER_AGENT = \"HH-Candidate-Search/1.0 (hr-search-app@v0.dev)\"\n\nexport function formatExperience(months: number | null | undefined): string {\n  if (!months) return \"Без опыта\"\n\n  const years = Math.floor(months / 12)\n  const remainingMonths = months % 12\n\n  if (years === 0) {\n    return `${remainingMonths} мес.`\n  }\n\n  if (remainingMonths === 0) {\n    return `${years} ${getYearWord(years)}`\n  }\n\n  return `${years} ${getYearWord(years)} ${remainingMonths} мес.`\n}\n\nfunction getYearWord(years: number): string {\n  const lastDigit = years % 10\n  const lastTwoDigits = years % 100\n\n  if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {\n    return \"лет\"\n  }\n\n  if (lastDigit === 1) {\n    return \"год\"\n  }\n\n  if (lastDigit >= 2 && lastDigit <= 4) {\n    return \"года\"\n  }\n\n  return \"лет\"\n}\n\nexport function formatSalary(salary: HHResume[\"salary\"]): string {\n  if (!salary || (!salary.amount && !salary.from && !salary.to)) {\n    return \"Не указана\"\n  }\n\n  const currency = salary.currency === \"RUR\" ? \"₽\" : salary.currency || \"₽\"\n\n  if (salary.amount) {\n    return `${salary.amount.toLocaleString(\"ru-RU\")} ${currency}`\n  }\n\n  if (salary.from && salary.to) {\n    return `${salary.from.toLocaleString(\"ru-RU\")} - ${salary.to.toLocaleString(\"ru-RU\")} ${currency}`\n  }\n\n  if (salary.from) {\n    return `от ${salary.from.toLocaleString(\"ru-RU\")} ${currency}`\n  }\n\n  if (salary.to) {\n    return `до ${salary.to.toLocaleString(\"ru-RU\")} ${currency}`\n  }\n\n  return \"Не указана\"\n}\n\nexport function formatDate(dateString: string): string {\n  const date = new Date(dateString)\n  return date.toLocaleDateString(\"ru-RU\", {\n    day: \"numeric\",\n    month: \"short\",\n    year: \"numeric\",\n  })\n}\n\nexport function transformResumeToCandidate(resume: HHResume): Candidate {\n  const fullName = [resume.last_name, resume.first_name, resume.middle_name].filter(Boolean).join(\" \")\n\n  let email: string | undefined\n  let phone: string | undefined\n\n  if (resume.contact) {\n    for (const contact of resume.contact) {\n      if (contact.type.id === \"email\" && typeof contact.value === \"string\") {\n        email = contact.value\n      }\n      if (contact.type.id === \"cell\" && typeof contact.value === \"object\") {\n        phone = `+${contact.value.country}${contact.value.city}${contact.value.number}`\n      }\n    }\n  }\n\n  return {\n    id: resume.id,\n    fullName: fullName || \"Имя не указано\",\n    title: resume.title || \"Должность не указана\",\n    age: resume.age,\n    city: resume.area?.name || \"Не указан\",\n    salary: formatSalary(resume.salary),\n    experience: formatExperience(resume.total_experience?.months),\n    skills: resume.skill_set || [],\n    lastUpdate: formatDate(resume.updated_at),\n    photoUrl: resume.photo?.medium || null,\n    resumeUrl: resume.alternate_url,\n    contacts: { email, phone },\n  }\n}\n\nexport function buildSearchParams(filters: Partial<HHSearchParams>): URLSearchParams {\n  const params = new URLSearchParams()\n\n  Object.entries(filters).forEach(([key, value]) => {\n    if (value !== undefined && value !== null && value !== \"\") {\n      params.append(key, String(value))\n    }\n  })\n\n  return params\n}\n\nexport async function searchResumes(\n  token: string,\n  params: HHSearchParams,\n): Promise<{ data: HHResume[]; found: number; pages: number; page: number }> {\n  const searchParams = buildSearchParams(params)\n\n  const response = await fetch(`${HH_API_BASE}/resumes?${searchParams}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"User-Agent\": HH_USER_AGENT,\n      \"HH-User-Agent\": HH_USER_AGENT,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}))\n    throw new Error(error.description || `API Error: ${response.status}`)\n  }\n\n  const data = await response.json()\n\n  return {\n    data: data.items || [],\n    found: data.found || 0,\n    pages: data.pages || 0,\n    page: data.page || 0,\n  }\n}\n\nexport async function getResumeDetails(token: string, resumeId: string): Promise<HHResume> {\n  const response = await fetch(`${HH_API_BASE}/resumes/${resumeId}?with_fields=contacts`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"User-Agent\": HH_USER_AGENT,\n      \"HH-User-Agent\": HH_USER_AGENT,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}))\n    throw new Error(error.description || `API Error: ${response.status}`)\n  }\n\n  return response.json()\n}\n\nexport async function sendInvitation(\n  token: string,\n  vacancyId: string,\n  resumeId: string,\n  message: string,\n): Promise<void> {\n  const response = await fetch(`${HH_API_BASE}/invitations`, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\",\n      \"User-Agent\": HH_USER_AGENT,\n      \"HH-User-Agent\": HH_USER_AGENT,\n    },\n    body: JSON.stringify({\n      vacancy_id: vacancyId,\n      resume_id: resumeId,\n      message,\n    }),\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}))\n    throw new Error(error.description || `API Error: ${response.status}`)\n  }\n}\n\nexport function exportToCsv(candidates: Candidate[]): string {\n  const headers = [\n    \"ID\",\n    \"ФИО\",\n    \"Должность\",\n    \"Возраст\",\n    \"Город\",\n    \"Зарплата\",\n    \"Опыт\",\n    \"Навыки\",\n    \"Обновлено\",\n    \"Email\",\n    \"Телефон\",\n    \"Ссылка\",\n  ]\n\n  const rows = candidates.map((c) => [\n    c.id,\n    c.fullName,\n    c.title,\n    c.age || \"\",\n    c.city,\n    c.salary,\n    c.experience,\n    c.skills.join(\"; \"),\n    c.lastUpdate,\n    c.contacts.email || \"\",\n    c.contacts.phone || \"\",\n    c.resumeUrl,\n  ])\n\n  const csvContent = [headers, ...rows]\n    .map((row) => row.map((cell) => `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(\",\"))\n    .join(\"\\n\")\n\n  return csvContent\n}\n\nexport function downloadCsv(content: string, filename: string): void {\n  const blob = new Blob([\"\\ufeff\" + content], { type: \"text/csv;charset=utf-8;\" })\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement(\"a\")\n  link.href = url\n  link.download = filename\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n}\n\nexport async function getMyVacancies(token: string): Promise<HHVacancy[]> {\n  const response = await fetch(`${HH_API_BASE}/me/vacancies`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"User-Agent\": HH_USER_AGENT,\n      \"HH-User-Agent\": HH_USER_AGENT,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}))\n    throw new Error(error.description || `API Error: ${response.status}`)\n  }\n\n  const data = await response.json()\n  return data.items || []\n}\n\nexport async function getVacancyById(\n  token: string,\n  vacancyId: string,\n): Promise<{\n  vacancy: {\n    id: string\n    title: string\n    description: string\n    region: string\n    regionId: string\n    salaryMin: number | null\n    salaryMax: number | null\n    experience: string\n    experienceId: string\n    requirements: string\n    responsibilities: string\n    skills: string[]\n    url: string\n  }\n  searchParams: {\n    text: string\n    area: string\n    experience: string\n    salaryFrom: number | null\n    salaryTo: number | null\n  }\n}> {\n  const response = await fetch(`${HH_API_BASE}/vacancies/${vacancyId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"User-Agent\": HH_USER_AGENT,\n      \"HH-User-Agent\": HH_USER_AGENT,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}))\n    throw new Error(error.description || `Вакансия не найдена: ${response.status}`)\n  }\n\n  const data = await response.json()\n\n  // Extract skills from key_skills\n  const skills: string[] = data.key_skills?.map((s: { name: string }) => s.name) || []\n\n  // Parse experience requirement\n  const experienceId = data.experience?.id || \"\"\n\n  return {\n    vacancy: {\n      id: data.id,\n      title: data.name,\n      description: data.description || \"\",\n      region: data.area?.name || \"\",\n      regionId: data.area?.id || \"\",\n      salaryMin: data.salary?.from || null,\n      salaryMax: data.salary?.to || null,\n      experience: data.experience?.name || \"\",\n      experienceId,\n      requirements: data.snippet?.requirement || \"\",\n      responsibilities: data.snippet?.responsibility || \"\",\n      skills,\n      url: data.alternate_url,\n    },\n    searchParams: {\n      text: data.name,\n      area: data.area?.id || \"\",\n      experience: experienceId,\n      salaryFrom: data.salary?.from || null,\n      salaryTo: data.salary?.to || null,\n    },\n  }\n}\n\n// Get negotiations (отклики и приглашения)\nexport async function getNegotiations(\n  token: string,\n  params?: { vacancy_id?: string; state?: string; page?: number },\n): Promise<{ items: any[]; found: number; pages: number }> {\n  const searchParams = new URLSearchParams()\n  if (params?.vacancy_id) searchParams.append(\"vacancy_id\", params.vacancy_id)\n  if (params?.state) searchParams.append(\"state\", params.state)\n  if (params?.page) searchParams.append(\"page\", params.page.toString())\n\n  const response = await fetch(`${HH_API_BASE}/negotiations?${searchParams}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"User-Agent\": HH_USER_AGENT,\n      \"HH-User-Agent\": HH_USER_AGENT,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}))\n    throw new Error(error.description || `API Error: ${response.status}`)\n  }\n\n  return response.json()\n}\n\n// Get negotiation messages\nexport async function getNegotiationMessages(token: string, negotiationId: string): Promise<{ items: any[] }> {\n  const response = await fetch(`${HH_API_BASE}/negotiations/${negotiationId}/messages`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"User-Agent\": HH_USER_AGENT,\n      \"HH-User-Agent\": HH_USER_AGENT,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}))\n    throw new Error(error.description || `API Error: ${response.status}`)\n  }\n\n  return response.json()\n}\n\n// Send message in negotiation\nexport async function sendNegotiationMessage(token: string, negotiationId: string, message: string): Promise<void> {\n  const response = await fetch(`${HH_API_BASE}/negotiations/${negotiationId}/messages`, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\",\n      \"User-Agent\": HH_USER_AGENT,\n      \"HH-User-Agent\": HH_USER_AGENT,\n    },\n    body: JSON.stringify({ message }),\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}))\n    throw new Error(error.description || `API Error: ${response.status}`)\n  }\n}\n\n// Update negotiation state\nexport async function updateNegotiationState(token: string, negotiationId: string, state: string): Promise<void> {\n  const response = await fetch(`${HH_API_BASE}/negotiations/${negotiationId}`, {\n    method: \"PUT\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\",\n      \"User-Agent\": HH_USER_AGENT,\n      \"HH-User-Agent\": HH_USER_AGENT,\n    },\n    body: JSON.stringify({ state }),\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}))\n    throw new Error(error.description || `API Error: ${response.status}`)\n  }\n}\n\n// Pay for resume access\nexport async function payResumeAccess(token: string, resumeId: string): Promise<void> {\n  const response = await fetch(`${HH_API_BASE}/resumes/${resumeId}/access`, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"User-Agent\": HH_USER_AGENT,\n      \"HH-User-Agent\": HH_USER_AGENT,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({}))\n    throw new Error(error.description || `API Error: ${response.status}`)\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5773, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/lib/scoring.ts"],"sourcesContent":["// Система оценки кандидатов по 100-балльной шкале\n\nexport interface ScoringConfig {\n  experience: {\n    weight: number\n    requiredLevel: string\n  }\n  skills: {\n    weight: number\n    required: string[]\n    bonus: string[]\n  }\n  salary: {\n    weight: number\n    optimal: { min: number; max: number }\n  }\n  education: {\n    weight: number\n  }\n  jobSearchStatus: {\n    weight: number\n  }\n  bonus: {\n    weight: number\n  }\n}\n\nexport interface ScoreBreakdown {\n  experience: number\n  skills: number\n  salary: number\n  education: number\n  jobSearchStatus: number\n  bonus: number\n}\n\nexport interface CandidateScore {\n  score: number\n  breakdown: ScoreBreakdown\n  rating: string\n  stars: number\n}\n\nexport const DEFAULT_SCORING_CONFIG: ScoringConfig = {\n  experience: {\n    weight: 30,\n    requiredLevel: \"between1And3\",\n  },\n  skills: {\n    weight: 25,\n    required: [\"CRM\", \"B2B\", \"продажи\", \"переговоры\"],\n    bonus: [\"партнерство\", \"реферральные\", \"активные продажи\"],\n  },\n  salary: {\n    weight: 15,\n    optimal: { min: 90000, max: 150000 },\n  },\n  education: {\n    weight: 10,\n  },\n  jobSearchStatus: {\n    weight: 10,\n  },\n  bonus: {\n    weight: 10,\n  },\n}\n\ninterface ResumeForScoring {\n  experience?: Array<{\n    start: string\n    end: string | null\n    company: string\n    position: string\n    description?: string | null\n  }>\n  skill_set?: string[]\n  salary?: {\n    from?: number | null\n    to?: number | null\n    amount?: number | null\n  } | null\n  education?: {\n    primary?: Array<{\n      name: string\n      organization?: string\n    }>\n  } | null\n  about?: string\n}\n\nexport function scoreCandidate(\n  resume: ResumeForScoring,\n  config: ScoringConfig = DEFAULT_SCORING_CONFIG,\n): CandidateScore {\n  const breakdown: ScoreBreakdown = {\n    experience: 0,\n    skills: 0,\n    salary: 0,\n    education: 0,\n    jobSearchStatus: 0,\n    bonus: 0,\n  }\n\n  // 1. Оценка опыта (до 30 баллов)\n  breakdown.experience = scoreExperience(resume, config.experience.requiredLevel)\n\n  // 2. Оценка навыков (до 25 баллов)\n  breakdown.skills = scoreSkills(resume, config.skills.required, config.skills.bonus)\n\n  // 3. Оценка зарплаты (до 15 баллов)\n  breakdown.salary = scoreSalary(resume, config.salary.optimal)\n\n  // 4. Оценка образования (до 10 баллов)\n  breakdown.education = scoreEducation(resume)\n\n  // 5. Статус поиска (10 баллов - все найденные активно ищут)\n  breakdown.jobSearchStatus = 10\n\n  // 6. Бонусы (до 10 баллов)\n  breakdown.bonus = calculateBonus(resume)\n\n  const total = Math.min(\n    100,\n    breakdown.experience +\n      breakdown.skills +\n      breakdown.salary +\n      breakdown.education +\n      breakdown.jobSearchStatus +\n      breakdown.bonus,\n  )\n\n  const score = Math.round(total)\n\n  return {\n    score,\n    breakdown,\n    rating: getRating(score),\n    stars: getStars(score),\n  }\n}\n\nfunction calculateTotalExperience(experience: Array<{ start: string; end: string | null }>): number {\n  return experience.reduce((total, exp) => {\n    const start = new Date(exp.start)\n    const end = exp.end ? new Date(exp.end) : new Date()\n    const months = (end.getFullYear() - start.getFullYear()) * 12 + (end.getMonth() - start.getMonth())\n    return total + Math.max(0, months)\n  }, 0)\n}\n\nfunction scoreExperience(resume: ResumeForScoring, requiredLevel: string): number {\n  if (!resume.experience || resume.experience.length === 0) {\n    return 5\n  }\n\n  const totalMonths = calculateTotalExperience(resume.experience)\n  const years = Math.floor(totalMonths / 12)\n\n  if (requiredLevel === \"between1And3\") {\n    if (years >= 1 && years <= 3) return 30\n    if (years === 0) return 15\n    if (years > 3 && years <= 6) return 25\n    if (years > 6) return 20\n  } else if (requiredLevel === \"between3And6\") {\n    if (years >= 3 && years <= 6) return 30\n    if (years >= 1 && years < 3) return 20\n    if (years > 6) return 25\n    return 10\n  } else if (requiredLevel === \"moreThan6\") {\n    if (years >= 6) return 30\n    if (years >= 3) return 25\n    if (years >= 1) return 15\n    return 5\n  } else if (requiredLevel === \"noExperience\") {\n    if (years === 0) return 30\n    if (years <= 1) return 25\n    return 15\n  }\n\n  // Default scoring\n  if (years >= 5) return 30\n  if (years >= 3) return 25\n  if (years >= 1) return 20\n  return 10\n}\n\nfunction scoreSkills(resume: ResumeForScoring, requiredSkills: string[], bonusSkills: string[]): number {\n  let score = 0\n\n  const skillsText = (resume.skill_set || []).map((s) => s.toLowerCase()).join(\" \")\n  const experienceText = (resume.experience || [])\n    .map((e) => `${e.position} ${e.company} ${e.description || \"\"}`.toLowerCase())\n    .join(\" \")\n  const aboutText = (resume.about || \"\").toLowerCase()\n\n  const fullText = `${skillsText} ${experienceText} ${aboutText}`\n\n  // Required skills (max 15 points)\n  const matchedRequired = requiredSkills.filter((skill) => fullText.includes(skill.toLowerCase())).length\n  score += Math.min(15, matchedRequired * 4)\n\n  // Bonus skills (max 10 points)\n  const matchedBonus = bonusSkills.filter((skill) => fullText.includes(skill.toLowerCase())).length\n  score += Math.min(10, matchedBonus * 3)\n\n  return Math.min(25, score)\n}\n\nfunction scoreSalary(resume: ResumeForScoring, optimal: { min: number; max: number }): number {\n  if (!resume.salary) {\n    return 8\n  }\n\n  const { from, to, amount } = resume.salary\n  let avgSalary: number\n\n  if (amount) {\n    avgSalary = amount\n  } else if (from && to) {\n    avgSalary = (from + to) / 2\n  } else if (from) {\n    avgSalary = from\n  } else if (to) {\n    avgSalary = to\n  } else {\n    return 8\n  }\n\n  if (avgSalary >= optimal.min && avgSalary <= optimal.max) {\n    return 15\n  }\n\n  if (avgSalary < optimal.min) {\n    return 12\n  }\n\n  if (avgSalary > optimal.max && avgSalary <= optimal.max * 1.5) {\n    return 10\n  }\n\n  return 8\n}\n\nfunction scoreEducation(resume: ResumeForScoring): number {\n  if (!resume.education?.primary || resume.education.primary.length === 0) {\n    return 5\n  }\n\n  const professionKeywords = [\"экономика\", \"менеджмент\", \"маркетинг\", \"бизнес\", \"финан\", \"управлен\", \"коммерц\"]\n  const educationText = resume.education.primary.map((e) => `${e.name} ${e.organization || \"\"}`.toLowerCase()).join(\" \")\n\n  const isProfessional = professionKeywords.some((kw) => educationText.includes(kw))\n\n  return isProfessional ? 10 : 7\n}\n\nfunction calculateBonus(resume: ResumeForScoring): number {\n  let bonus = 0\n\n  const knownCompanies = [\n    \"яндекс\",\n    \"google\",\n    \"microsoft\",\n    \"сбер\",\n    \"банк\",\n    \"альфа\",\n    \"авито\",\n    \"mail.ru\",\n    \"мегафон\",\n    \"билайн\",\n    \"ozon\",\n    \"wildberries\",\n    \"тинькофф\",\n    \"втб\",\n  ]\n\n  const companyText = (resume.experience || []).map((e) => e.company?.toLowerCase() || \"\").join(\" \")\n\n  if (knownCompanies.some((comp) => companyText.includes(comp))) {\n    bonus += 5\n  }\n\n  const aboutText = (resume.about || \"\").toLowerCase()\n  const expDescriptions = (resume.experience || [])\n    .map((e) => e.description || \"\")\n    .join(\" \")\n    .toLowerCase()\n\n  const achievementText = `${aboutText} ${expDescriptions}`\n  if (/\\d+%|\\+\\d+|увеличил|снизил|рост|план|выполн|перевыполн/.test(achievementText)) {\n    bonus += 5\n  }\n\n  return Math.min(10, bonus)\n}\n\nfunction getRating(score: number): string {\n  if (score >= 85) return \"Отличный кандидат\"\n  if (score >= 75) return \"Хороший кандидат\"\n  if (score >= 65) return \"Среднее совпадение\"\n  if (score >= 50) return \"Низкое совпадение\"\n  return \"Очень низкое совпадение\"\n}\n\nfunction getStars(score: number): number {\n  if (score >= 85) return 5\n  if (score >= 75) return 4\n  if (score >= 65) return 3\n  if (score >= 50) return 2\n  return 1\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5996, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/lib/batch-loader.ts"],"sourcesContent":["// Пакетная загрузка резюме с прогрессом и автосохранением\n\nimport type { HHResume, Candidate, VacancyConfig } from \"./types\"\nimport { transformResumeToCandidate } from \"./hh-api\"\nimport { scoreCandidate, type ScoringConfig, type CandidateScore } from \"./scoring\"\n\nexport interface BatchProgress {\n  loaded: number\n  total: number\n  page: number\n  pages: number\n  status: \"loading\" | \"scoring\" | \"saving\" | \"done\" | \"error\"\n  message: string\n  saved?: number\n  searchSessionId?: string\n  vacancyId?: string\n}\n\nexport interface ScoredCandidate extends Candidate, CandidateScore {}\n\ninterface SearchParams {\n  text: string\n  area?: string\n  experience?: string\n  employment?: string\n  schedule?: string\n  salary_from?: number\n  salary_to?: number\n  order_by?: string\n  resume_search_period?: number\n}\n\nexport async function loadAllResumes(\n  token: string,\n  searchParams: SearchParams,\n  scoringConfig: ScoringConfig,\n  onProgress: (progress: BatchProgress) => void,\n  maxResults = 100,\n  vacancyConfig?: VacancyConfig,\n): Promise<ScoredCandidate[]> {\n  const allResumes: HHResume[] = []\n  const maxPages = Math.ceil(maxResults / 20)\n\n  console.log(\"[v0] Starting batch load with autosave:\", !!vacancyConfig)\n\n  try {\n    // Phase 1: Loading pages\n    for (let page = 0; page < maxPages; page++) {\n      onProgress({\n        loaded: allResumes.length,\n        total: maxResults,\n        page: page + 1,\n        pages: maxPages,\n        status: \"loading\",\n        message: `Загрузка страницы ${page + 1}...`,\n      })\n\n      const response = await fetch(\"/api/search\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          token,\n          ...searchParams,\n          page,\n          per_page: 20,\n        }),\n      })\n\n      if (!response.ok) {\n        const error = await response.json()\n        throw new Error(error.error || `Ошибка загрузки: ${response.status}`)\n      }\n\n      const data = await response.json()\n\n      if (!data.items || data.items.length === 0) {\n        break\n      }\n\n      allResumes.push(...data.items)\n\n      onProgress({\n        loaded: allResumes.length,\n        total: Math.min(maxResults, data.found),\n        page: page + 1,\n        pages: Math.min(maxPages, data.pages),\n        status: \"loading\",\n        message: `Загружено ${allResumes.length} резюме`,\n      })\n\n      if (allResumes.length >= maxResults) {\n        break\n      }\n\n      // Rate limiting delay\n      await new Promise((resolve) => setTimeout(resolve, 500))\n    }\n\n    // Phase 2: Scoring\n    onProgress({\n      loaded: allResumes.length,\n      total: allResumes.length,\n      page: maxPages,\n      pages: maxPages,\n      status: \"scoring\",\n      message: \"Оценка кандидатов...\",\n    })\n\n    const scoredCandidates: ScoredCandidate[] = allResumes.slice(0, maxResults).map((resume) => {\n      const candidate = transformResumeToCandidate(resume)\n      const score = scoreCandidate(resume as any, scoringConfig)\n      return { ...candidate, ...score }\n    })\n\n    // Sort by score (highest first)\n    scoredCandidates.sort((a, b) => b.score - a.score)\n\n    console.log(\"[v0] Scored candidates count:\", scoredCandidates.length)\n    console.log(\"[v0] Autosave enabled:\", !!vacancyConfig)\n    console.log(\n      \"[v0] Vacancy config:\",\n      vacancyConfig ? JSON.stringify({ name: vacancyConfig.name, id: vacancyConfig.id }) : \"none\",\n    )\n\n    if (vacancyConfig) {\n      onProgress({\n        loaded: scoredCandidates.length,\n        total: scoredCandidates.length,\n        page: maxPages,\n        pages: maxPages,\n        status: \"saving\",\n        message: \"Сохранение в базу данных...\",\n        saved: 0,\n      })\n\n      try {\n        let vacancyId: string | undefined\n\n        console.log(\"[v0] Creating/finding vacancy:\", vacancyConfig.name || \"No name\")\n        console.log(\"[v0] Vacancy config full:\", JSON.stringify(vacancyConfig))\n\n        if (vacancyConfig.name || vacancyConfig.title) {\n          const vacancyResponse = await fetch(\"/api/db/vacancies\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ vacancyConfig }),\n          })\n\n          console.log(\"[v0] Vacancy API response status:\", vacancyResponse.status)\n\n          if (vacancyResponse.ok) {\n            const vacancyData = await vacancyResponse.json()\n            vacancyId = vacancyData.vacancy?.id\n            console.log(\"[v0] Vacancy created/found with ID:\", vacancyId)\n          } else {\n            const errorText = await vacancyResponse.text()\n            console.error(\"[v0] Vacancy creation failed:\", errorText)\n          }\n        } else {\n          console.warn(\"[v0] No vacancy name/title in config, skipping vacancy creation\")\n        }\n\n        let searchSessionId: string | undefined\n\n        console.log(\"[v0] Creating search session with vacancy:\", vacancyId)\n\n        const sessionResponse = await fetch(\"/api/db/search-sessions\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            searchParams,\n            candidates: scoredCandidates,\n            vacancyId,\n          }),\n        })\n\n        if (sessionResponse.ok) {\n          const sessionData = await sessionResponse.json()\n          searchSessionId = sessionData.searchSession?.id\n          console.log(\"[v0] Search session ID:\", searchSessionId)\n        } else {\n          console.error(\"[v0] Session creation failed:\", await sessionResponse.text())\n        }\n\n        const batchSize = 10\n        let savedCount = 0\n\n        console.log(\"[v0] Starting to save candidates in batches of\", batchSize)\n\n        for (let i = 0; i < scoredCandidates.length; i += batchSize) {\n          const batch = scoredCandidates.slice(i, i + batchSize)\n\n          console.log(\"[v0] Saving batch\", Math.floor(i / batchSize) + 1, \"with\", batch.length, \"candidates\")\n\n          const response = await fetch(\"/api/db/candidates\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              candidates: batch,\n              vacancyId,\n              searchSessionId,\n            }),\n          })\n\n          if (response.ok) {\n            const data = await response.json()\n            savedCount += data.saved || batch.length\n            console.log(\"[v0] Batch saved successfully. Total saved:\", savedCount)\n          } else {\n            console.error(\"[v0] Batch save failed:\", await response.text())\n          }\n\n          onProgress({\n            loaded: scoredCandidates.length,\n            total: scoredCandidates.length,\n            page: maxPages,\n            pages: maxPages,\n            status: \"saving\",\n            message: `Сохранено ${savedCount} из ${scoredCandidates.length} кандидатов...`,\n            saved: savedCount,\n            searchSessionId,\n            vacancyId,\n          })\n\n          // Small delay between batches\n          if (i + batchSize < scoredCandidates.length) {\n            await new Promise((resolve) => setTimeout(resolve, 200))\n          }\n        }\n\n        console.log(\"[v0] Autosave complete. Saved:\", savedCount, \"candidates\")\n\n        onProgress({\n          loaded: scoredCandidates.length,\n          total: scoredCandidates.length,\n          page: maxPages,\n          pages: maxPages,\n          status: \"done\",\n          message: `Готово! ${scoredCandidates.length} кандидатов оценено и сохранено`,\n          saved: savedCount,\n          searchSessionId,\n          vacancyId,\n        })\n      } catch (saveError) {\n        console.error(\"[v0] Auto-save error:\", saveError)\n        // Don't fail the whole operation if save fails\n        onProgress({\n          loaded: scoredCandidates.length,\n          total: scoredCandidates.length,\n          page: maxPages,\n          pages: maxPages,\n          status: \"done\",\n          message: `Готово! ${scoredCandidates.length} кандидатов (ошибка сохранения в БД)`,\n        })\n      }\n    } else {\n      console.log(\"[v0] Autosave disabled, skipping database save\")\n      onProgress({\n        loaded: scoredCandidates.length,\n        total: scoredCandidates.length,\n        page: maxPages,\n        pages: maxPages,\n        status: \"done\",\n        message: `Готово! Найдено ${scoredCandidates.length} кандидатов`,\n      })\n    }\n\n    return scoredCandidates\n  } catch (error) {\n    console.error(\"[v0] Batch load error:\", error)\n    onProgress({\n      loaded: allResumes.length,\n      total: maxResults,\n      page: 0,\n      pages: maxPages,\n      status: \"error\",\n      message: error instanceof Error ? error.message : \"Произошла ошибка\",\n    })\n    throw error\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6232, "column": 0}, "map": {"version":3,"sources":["file:///Users/konstantinsyrov/%D0%93%D0%98%D0%A2%D0%A5%D0%90%D0%91%20/HH.ru_servis-1/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useCallback } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { ThemeToggle } from \"@/components/theme-toggle\"\nimport { TokenInput } from \"@/components/token-input\"\nimport { SearchForm } from \"@/components/search-form\"\nimport { CandidatesList } from \"@/components/candidates-list\"\nimport { StatisticsCard } from \"@/components/statistics-card\"\nimport { ExportButton } from \"@/components/export-button\"\nimport { SearchHistoryButton, addToHistory } from \"@/components/search-history\"\nimport { VacancyConfigForm, DEFAULT_VACANCY_CONFIG } from \"@/components/vacancy-config\"\nimport { InviteDialog } from \"@/components/invite-dialog\"\nimport { BatchProgressCard } from \"@/components/batch-progress\"\nimport { loadAllResumes, type BatchProgress } from \"@/lib/batch-loader\"\nimport type { ScoringConfig } from \"@/lib/scoring\"\nimport type { SearchFilters, ScoredCandidate, VacancyConfig } from \"@/lib/types\"\nimport { Rocket, Search, Database, BookOpen, LayoutDashboard, MessagesSquare, User } from \"lucide-react\"\nimport { AuthDialog } from \"@/components/auth-dialog\"\nimport Link from \"next/link\"\n\nconst defaultFilters: SearchFilters = {\n  text: \"\",\n  area: \"\",\n  experience: \"\",\n  employment: \"\",\n  schedule: \"\",\n  salaryFrom: \"\",\n  salaryTo: \"\",\n  orderBy: \"relevance\",\n  resumeSearchPeriod: \"\",\n}\n\nexport default function HomePage() {\n  const [token, setToken] = useState(\"\")\n  const [filters, setFilters] = useState<SearchFilters>(defaultFilters)\n  const [candidates, setCandidates] = useState<ScoredCandidate[]>([])\n  const [totalFound, setTotalFound] = useState(0)\n  const [totalPages, setTotalPages] = useState(0)\n  const [currentPage, setCurrentPage] = useState(0)\n  const [isLoading, setIsLoading] = useState(false)\n  const [searchTime, setSearchTime] = useState(0)\n  const [lastQuery, setLastQuery] = useState(\"\")\n  const [error, setError] = useState<string | null>(null)\n  const [vacancyConfig, setVacancyConfig] = useState<VacancyConfig>(DEFAULT_VACANCY_CONFIG)\n  const [inviteCandidate, setInviteCandidate] = useState<ScoredCandidate | null>(null)\n  const [isInviteDialogOpen, setIsInviteDialogOpen] = useState(false)\n  const [batchProgress, setBatchProgress] = useState<BatchProgress | null>(null)\n  const [isBatchMode, setIsBatchMode] = useState(false)\n  const [autoSaveEnabled, setAutoSaveEnabled] = useState(true)\n  const [currentSearchSessionId, setCurrentSearchSessionId] = useState<string | undefined>()\n  const [currentDbVacancyId, setCurrentDbVacancyId] = useState<string | undefined>()\n  const [isAuthDialogOpen, setIsAuthDialogOpen] = useState(false)\n\n  const getScoringConfig = (): ScoringConfig => ({\n    experience: {\n      weight: 30,\n      requiredLevel: vacancyConfig.requiredExperience || \"between1And3\",\n    },\n    skills: {\n      weight: 25,\n      required: vacancyConfig.requiredSkills,\n      bonus: vacancyConfig.bonusSkills,\n    },\n    salary: {\n      weight: 15,\n      optimal: {\n        min: vacancyConfig.salaryMin || 90000,\n        max: vacancyConfig.salaryMax || 150000,\n      },\n    },\n    education: { weight: 10 },\n    jobSearchStatus: { weight: 10 },\n    bonus: { weight: 10 },\n  })\n\n  const performBatchSearch = useCallback(async () => {\n    if (!token || !filters.text.trim()) return\n\n    setIsLoading(true)\n    setIsBatchMode(true)\n    setError(null)\n    setBatchProgress(null)\n    setCurrentSearchSessionId(undefined)\n    setCurrentDbVacancyId(undefined)\n    const startTime = performance.now()\n\n    try {\n      const scoredCandidates = await loadAllResumes(\n        token,\n        {\n          text: filters.text,\n          area: filters.area && filters.area !== \"all\" ? filters.area : undefined,\n          experience: filters.experience && filters.experience !== \"any\" ? filters.experience : undefined,\n          employment: filters.employment && filters.employment !== \"any\" ? filters.employment : undefined,\n          schedule: filters.schedule && filters.schedule !== \"any\" ? filters.schedule : undefined,\n          salary_from: filters.salaryFrom ? Number(filters.salaryFrom) : undefined,\n          salary_to: filters.salaryTo ? Number(filters.salaryTo) : undefined,\n          order_by: filters.orderBy || \"relevance\",\n          resume_search_period:\n            filters.resumeSearchPeriod && filters.resumeSearchPeriod !== \"all\"\n              ? Number(filters.resumeSearchPeriod)\n              : undefined,\n        },\n        getScoringConfig(),\n        (progress) => {\n          setBatchProgress(progress)\n          if (progress.searchSessionId) {\n            setCurrentSearchSessionId(progress.searchSessionId)\n          }\n          if (progress.vacancyId) {\n            setCurrentDbVacancyId(progress.vacancyId)\n          }\n        },\n        100,\n        vacancyConfig,\n      )\n\n      setCandidates(scoredCandidates)\n      setTotalFound(scoredCandidates.length)\n      setTotalPages(1)\n      setCurrentPage(0)\n      setLastQuery(filters.text)\n      setSearchTime((performance.now() - startTime) / 1000)\n\n      addToHistory(filters, scoredCandidates.length)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Произошла ошибка\")\n      setCandidates([])\n      setTotalFound(0)\n      setTotalPages(0)\n    } finally {\n      setIsLoading(false)\n    }\n  }, [token, filters, vacancyConfig, autoSaveEnabled])\n\n  const performSimpleSearch = useCallback(\n    async (page = 0) => {\n      if (!token || !filters.text.trim()) return\n\n      setIsLoading(true)\n      setIsBatchMode(false)\n      setBatchProgress(null)\n      setError(null)\n      setCurrentSearchSessionId(undefined)\n      setCurrentDbVacancyId(undefined)\n      const startTime = performance.now()\n\n      try {\n        const response = await fetch(\"/api/search\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            token,\n            text: filters.text,\n            area: filters.area && filters.area !== \"all\" ? filters.area : undefined,\n            experience: filters.experience && filters.experience !== \"any\" ? filters.experience : undefined,\n            employment: filters.employment && filters.employment !== \"any\" ? filters.employment : undefined,\n            schedule: filters.schedule && filters.schedule !== \"any\" ? filters.schedule : undefined,\n            salary_from: filters.salaryFrom ? Number(filters.salaryFrom) : undefined,\n            salary_to: filters.salaryTo ? Number(filters.salaryTo) : undefined,\n            order_by: filters.orderBy || \"relevance\",\n            resume_search_period:\n              filters.resumeSearchPeriod && filters.resumeSearchPeriod !== \"all\"\n                ? Number(filters.resumeSearchPeriod)\n                : undefined,\n            page,\n            per_page: 20,\n          }),\n        })\n\n        const data = await response.json()\n\n        if (!response.ok) {\n          throw new Error(data.error || \"Ошибка поиска\")\n        }\n\n        const { scoreCandidate } = await import(\"@/lib/scoring\")\n        const scoringConfig = getScoringConfig()\n        const scoredCandidates: ScoredCandidate[] = data.candidates.map((c: any) => ({\n          ...c,\n          ...scoreCandidate(data.items?.find((i: any) => i.id === c.id) || {}, scoringConfig),\n        }))\n\n        scoredCandidates.sort((a, b) => b.score - a.score)\n\n        setCandidates(scoredCandidates)\n        setTotalFound(data.found)\n        setTotalPages(data.pages)\n        setCurrentPage(page)\n        setLastQuery(filters.text)\n        setSearchTime((performance.now() - startTime) / 1000)\n\n        if (page === 0) {\n          addToHistory(filters, data.found)\n        }\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"Произошла ошибка\")\n        setCandidates([])\n        setTotalFound(0)\n        setTotalPages(0)\n      } finally {\n        setIsLoading(false)\n      }\n    },\n    [token, filters, vacancyConfig],\n  )\n\n  const handleSearch = () => {\n    setCurrentPage(0)\n    performSimpleSearch(0)\n  }\n\n  const handleBatchSearch = () => {\n    performBatchSearch()\n  }\n\n  const handlePageChange = (page: number) => {\n    performSimpleSearch(page)\n  }\n\n  const handleHistorySelect = (historyFilters: SearchFilters) => {\n    setFilters(historyFilters)\n  }\n\n  const handleInvite = (candidate: ScoredCandidate) => {\n    setInviteCandidate(candidate)\n    setIsInviteDialogOpen(true)\n  }\n\n  const handleFiltersUpdate = useCallback((newFilters: Partial<SearchFilters>) => {\n    setFilters((prev) => ({ ...prev, ...newFilters }))\n  }, [])\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"mx-auto flex h-14 max-w-5xl items-center justify-between px-4\">\n          <div className=\"flex items-center gap-2\">\n            <svg className=\"h-6 w-6 text-primary\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\" />\n            </svg>\n            <h1 className=\"text-lg font-semibold\">HH.ru Candidate Search</h1>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Link href=\"/crm\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\">\n                <MessagesSquare className=\"h-4 w-4\" />\n                <span className=\"hidden sm:inline\">CRM</span>\n              </Button>\n            </Link>\n            <Link href=\"/dashboard\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\">\n                <LayoutDashboard className=\"h-4 w-4\" />\n                <span className=\"hidden sm:inline\">Дашборд</span>\n              </Button>\n            </Link>\n            <Link href=\"/instruction\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\">\n                <BookOpen className=\"h-4 w-4\" />\n                <span className=\"hidden sm:inline\">Инструкция</span>\n              </Button>\n            </Link>\n            <SearchHistoryButton onSelectHistory={handleHistorySelect} />\n            <ExportButton\n              candidates={candidates}\n              searchSessionId={currentSearchSessionId}\n              vacancyId={currentDbVacancyId}\n              appliedFilters={filters}\n            />\n            <ThemeToggle />\n          </div>\n        </div>\n      </header>\n\n      <main className=\"mx-auto max-w-5xl space-y-6 p-4\">\n        <Card>\n          <CardHeader className=\"pb-4\">\n            <CardTitle className=\"text-xl\">1. API Авторизация</CardTitle>\n            <CardDescription>Введите токен для доступа к API HH.ru</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <TokenInput value={token} onChange={setToken} />\n          </CardContent>\n        </Card>\n\n        {token && (\n          <div className=\"space-y-2\">\n            <h2 className=\"flex items-center gap-2 text-lg font-semibold\">\n              <span className=\"flex h-6 w-6 items-center justify-center rounded-full bg-primary text-xs text-primary-foreground\">\n                2\n              </span>\n              Настройте вакансию\n            </h2>\n            <VacancyConfigForm\n              config={vacancyConfig}\n              onChange={setVacancyConfig}\n              token={token}\n              onFiltersChange={handleFiltersUpdate}\n            />\n          </div>\n        )}\n\n        {token && (\n          <Card>\n            <CardHeader className=\"pb-4\">\n              <CardTitle className=\"flex items-center gap-2 text-xl\">\n                <span className=\"flex h-6 w-6 items-center justify-center rounded-full bg-primary text-xs text-primary-foreground\">\n                  3\n                </span>\n                Поиск кандидатов\n              </CardTitle>\n              <CardDescription>Найдите подходящих специалистов по резюме на HH.ru</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <SearchForm\n                filters={filters}\n                onFiltersChange={setFilters}\n                onSearch={handleSearch}\n                isLoading={isLoading}\n                hasToken={!!token}\n              />\n\n              <div className=\"flex flex-wrap gap-3 border-t pt-4\">\n                <Button onClick={handleSearch} disabled={isLoading || !filters.text.trim()} className=\"gap-2\">\n                  <Search className=\"h-4 w-4\" />\n                  Быстрый поиск\n                </Button>\n                <Button\n                  onClick={handleBatchSearch}\n                  disabled={isLoading || !filters.text.trim()}\n                  variant=\"secondary\"\n                  className=\"gap-2\"\n                >\n                  <Rocket className=\"h-4 w-4\" />\n                  Полный поиск с оценкой (до 100)\n                </Button>\n              </div>\n\n              <div className=\"flex items-center gap-3 rounded-lg border border-blue-200 bg-blue-50 p-3 dark:border-blue-900 dark:bg-blue-950\">\n                <Database className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\n                <div className=\"flex-1\">\n                  <p className=\"text-sm font-medium text-blue-900 dark:text-blue-100\">Автосохранение в базу данных</p>\n                  <p className=\"text-xs text-blue-700 dark:text-blue-300\">\n                    При полном поиске все резюме автоматически сохраняются в Supabase\n                  </p>\n                </div>\n                <label className=\"relative inline-flex cursor-pointer items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={autoSaveEnabled}\n                    onChange={(e) => setAutoSaveEnabled(e.target.checked)}\n                    className=\"peer sr-only\"\n                  />\n                  <div className=\"peer h-6 w-11 rounded-full bg-gray-300 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:bg-gray-600\"></div>\n                </label>\n              </div>\n\n              {currentSearchSessionId && (\n                <div className=\"flex items-center gap-2 rounded-lg border border-green-200 bg-green-50 px-3 py-2 text-xs dark:border-green-900 dark:bg-green-950\">\n                  <div className=\"h-2 w-2 rounded-full bg-green-500\"></div>\n                  <span className=\"text-green-700 dark:text-green-300\">\n                    Сессия поиска: <code className=\"font-mono\">{currentSearchSessionId.slice(0, 8)}...</code>\n                  </span>\n                </div>\n              )}\n\n              <p className=\"text-xs text-muted-foreground\">\n                Полный поиск загрузит до 100 резюме, оценит каждого кандидата по настройкам вакансии\n                {autoSaveEnabled && \" и автоматически сохранит в базу данных\"}\n              </p>\n            </CardContent>\n          </Card>\n        )}\n\n        {batchProgress && <BatchProgressCard progress={batchProgress} />}\n\n        {error && (\n          <Card className=\"border-destructive bg-destructive/10\">\n            <CardContent className=\"p-4\">\n              <p className=\"text-sm text-destructive\">{error}</p>\n            </CardContent>\n          </Card>\n        )}\n\n        {lastQuery && !error && (\n          <StatisticsCard totalFound={totalFound} searchTime={searchTime} searchQuery={lastQuery} />\n        )}\n\n        {(candidates.length > 0 || isLoading) && (\n          <CandidatesList\n            candidates={candidates}\n            totalFound={totalFound}\n            currentPage={currentPage}\n            totalPages={isBatchMode ? 1 : totalPages}\n            onPageChange={handlePageChange}\n            isLoading={isLoading}\n            vacancyConfig={vacancyConfig}\n            onInvite={handleInvite}\n          />\n        )}\n\n        {!token && candidates.length === 0 && !isLoading && (\n          <Card className=\"bg-muted/30\">\n            <CardContent className=\"flex flex-col items-center justify-center py-16 text-center\">\n              <svg className=\"h-16 w-16 text-muted-foreground/30\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5S15.41 5 14 5 12 7.01 12 9.5 14 14 15.5 14z\" />\n              </svg>\n              <h3 className=\"mt-4 text-lg font-semibold\">Начните поиск кандидатов</h3>\n              <p className=\"mt-1 max-w-sm text-sm text-muted-foreground\">\n                Введите ваш API токен HH.ru и настройте параметры вакансии для поиска подходящих специалистов\n              </p>\n            </CardContent>\n          </Card>\n        )}\n      </main>\n\n      <footer className=\"mt-auto border-t py-4\">\n        <div className=\"mx-auto max-w-5xl px-4 text-center text-xs text-muted-foreground\">\n          Данные предоставлены API HH.ru. Все найденные резюме автоматически сохраняются в базу данных Supabase.\n        </div>\n      </footer>\n\n      <InviteDialog\n        open={isInviteDialogOpen}\n        onOpenChange={setIsInviteDialogOpen}\n        candidate={inviteCandidate}\n        vacancyConfig={vacancyConfig}\n        token={token}\n        dbVacancyId={currentDbVacancyId}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}